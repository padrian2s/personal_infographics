<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Once You See Yourself Clearly, You Can't Pretend — Interactive Infographic</title>
  <meta name="description" content="Interactive psychological infographic exploring how self-clarity makes pretending impossible — the journey from performance to coherence, Jungian self-awareness, and the cost of misalignment." />
  <style>
    :root{
      --bg: #0b0f17;
      --panel: rgba(255,255,255,.06);
      --panel2: rgba(255,255,255,.085);
      --stroke: rgba(255,255,255,.14);
      --text: rgba(255,255,255,.92);
      --muted: rgba(255,255,255,.70);
      --faint: rgba(255,255,255,.55);
      --good: #75f0b6;
      --warn: #ffd27a;
      --bad: #ff7a99;
      --cyan: #7ad7ff;
      --violet: #bba7ff;
      --orange: #ffb38a;
      --shadow: 0 16px 60px rgba(0,0,0,.45);
      --shadow2: 0 10px 25px rgba(0,0,0,.35);
      --radius: 18px;
      --radius2: 14px;
      --grid: rgba(255,255,255,.07);
      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      --sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: var(--sans);
      color: var(--text);
      background:
        radial-gradient(1200px 600px at 15% 10%, rgba(187,167,255,.10), transparent 60%),
        radial-gradient(900px 500px at 80% 15%, rgba(122,215,255,.10), transparent 55%),
        radial-gradient(800px 500px at 55% 85%, rgba(255,210,122,.08), transparent 60%),
        linear-gradient(180deg, #070a10, var(--bg));
      overflow-x:hidden;
    }

    a{color:inherit}

    .wrap{max-width:1220px;margin:0 auto;padding:34px 18px 70px}

    /* Header */
    header{
      position: relative;
      padding: 26px 18px 22px;
      border: 1px solid var(--stroke);
      border-radius: var(--radius);
      background: linear-gradient(180deg, rgba(255,255,255,.07), rgba(255,255,255,.03));
      box-shadow: var(--shadow);
      overflow:hidden;
    }
    .headerGrid{
      display:grid;
      grid-template-columns: 1.25fr .75fr;
      gap: 18px;
      align-items: start;
    }
    .kicker{
      display:inline-flex;align-items:center;gap:10px;
      padding:8px 12px;
      border-radius:999px;
      border:1px solid var(--stroke);
      background: rgba(0,0,0,.25);
      font-size: 12px;
      letter-spacing:.12em;
      text-transform: uppercase;
      color: var(--muted);
    }
    .kicker .dot{width:8px;height:8px;border-radius:99px;background: linear-gradient(90deg, var(--violet), var(--cyan)); box-shadow: 0 0 22px rgba(187,167,255,.25)}

    h1{margin:14px 0 10px;font-size: clamp(26px, 3.1vw, 44px);line-height:1.04;letter-spacing:-0.02em}
    .subtitle{margin:0 0 14px;color:var(--muted);font-size: 15px;line-height:1.55;max-width:72ch}

    .topStats{
      display:grid;
      grid-template-columns: repeat(2, minmax(0,1fr));
      gap: 12px;
      align-content: start;
    }
    .stat{
      border: 1px solid var(--stroke);
      border-radius: var(--radius2);
      background: rgba(0,0,0,.18);
      padding: 12px 12px 10px;
      box-shadow: var(--shadow2);
      min-height: 84px;
    }
    .stat .label{font-size:12px;color:var(--faint);text-transform:uppercase;letter-spacing:.12em}
    .stat .value{margin-top:7px;font-weight:700;font-size: 18px}
    .stat .note{margin-top:4px;font-size:12px;color:var(--muted)}

    .heroArt{
      position:absolute;inset:-1px -1px auto auto;
      width:min(520px, 55vw);
      height: 260px;
      pointer-events:none;
      opacity:.85;
      mask-image: radial-gradient(260px 200px at 65% 40%, rgba(0,0,0,1), rgba(0,0,0,.0) 70%);
    }

    /* Layout */
    .grid{
      margin-top: 18px;
      display:grid;
      grid-template-columns: 1fr;
      gap: 14px;
    }

    .row{
      display:grid;
      grid-template-columns: 1.05fr .95fr;
      gap: 14px;
    }

    @media (max-width: 960px){
      .headerGrid{grid-template-columns: 1fr}
      .row{grid-template-columns: 1fr}
      .heroArt{height:160px}
    }

    /* Cards */
    .card{
      border: 1px solid var(--stroke);
      border-radius: var(--radius);
      background: rgba(255,255,255,.05);
      box-shadow: var(--shadow2);
      overflow:hidden;
    }
    .cardHeader{
      display:flex;justify-content:space-between;align-items:flex-start;gap: 12px;
      padding: 14px 16px 10px;
      border-bottom: 1px solid rgba(255,255,255,.09);
      background: linear-gradient(180deg, rgba(0,0,0,.18), transparent);
      flex-wrap:wrap;
    }
    .cardHeader h2{margin:0;font-size: 16px;letter-spacing:-0.01em}
    .chip{
      display:inline-flex;align-items:center;gap:8px;
      padding:6px 10px;
      border-radius:999px;
      border:1px solid var(--stroke);
      background: rgba(0,0,0,.22);
      color: var(--muted);
      font-size: 12px;
      user-select:none;
      white-space:nowrap;
    }
    .chip b{color: var(--text)}
    .cardBody{padding: 14px 16px 16px}

    .muted{color:var(--muted)}
    .small{font-size:12px;color:var(--muted)}

    .split{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
    }
    @media (max-width: 740px){
      .split{grid-template-columns:1fr}
    }

    /* Pill + Tag */
    .pill{
      border: 1px solid rgba(255,255,255,.11);
      border-radius: 999px;
      padding: 10px 12px;
      background: rgba(0,0,0,.18);
      display:flex;align-items:center;justify-content:space-between;gap: 10px;
      min-height: 44px;
    }
    .pill span{font-size: 13px}
    .tag{
      font-size: 11px;
      letter-spacing:.08em;
      text-transform: uppercase;
      padding: 4px 8px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.06);
      color: var(--muted);
      white-space:nowrap;
    }

    /* Viz */
    .viz{
      border: 1px solid rgba(255,255,255,.11);
      border-radius: var(--radius2);
      background:
        linear-gradient(180deg, rgba(0,0,0,.18), rgba(0,0,0,.08)),
        repeating-linear-gradient(90deg, transparent, transparent 22px, rgba(255,255,255,.03) 22px, rgba(255,255,255,.03) 23px),
        repeating-linear-gradient(0deg, transparent, transparent 22px, rgba(255,255,255,.03) 22px, rgba(255,255,255,.03) 23px);
      padding: 12px;
      position:relative;
      overflow:hidden;
    }

    svg{display:block;width:100%;height:auto}

    .controls{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
      margin-top: 12px;
    }
    @media (max-width: 740px){
      .controls{grid-template-columns:1fr}
    }

    .control{
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.18);
      border-radius: 14px;
      padding: 10px 12px;
    }
    .control label{display:flex;justify-content:space-between;gap:12px;align-items:center;font-size:12px;color:var(--muted);letter-spacing:.08em;text-transform:uppercase}
    input[type="range"]{width:100%;margin-top:10px;accent-color:var(--violet)}
    .control .readout{font-family:var(--mono);font-size:12px;color:var(--text)}

    .legend{
      display:flex;flex-wrap:wrap;gap:8px;
      margin-top: 10px;
    }
    .legend .key{display:flex;align-items:center;gap:8px;padding:6px 10px;border-radius:999px;border:1px solid rgba(255,255,255,.11);background:rgba(0,0,0,.16);font-size:12px;color:var(--muted)}
    .sw{width:10px;height:10px;border-radius:99px}

    /* Flow */
    .flow{
      display:grid;
      grid-template-columns: 1fr;
      gap: 10px;
    }
    .flowNode{
      border: 1px solid rgba(255,255,255,.12);
      border-radius: 16px;
      background: rgba(0,0,0,.18);
      padding: 12px;
      position: relative;
    }
    .flowNode h3{margin:0 0 6px;font-size: 14px}
    .flowNode p{margin:0;color:var(--muted);font-size: 13px;line-height:1.5}
    .flowNode .meta{margin-top:10px;display:flex;flex-wrap:wrap;gap:8px}
    .badge{font-size:11px;border:1px solid rgba(255,255,255,.12);background:rgba(255,255,255,.05);color:var(--muted);border-radius:999px;padding:5px 9px}

    /* Checklist */
    .checklist{display:grid;gap: 10px}
    .item{
      border:1px solid rgba(255,255,255,.12);
      border-radius: 16px;
      background: rgba(0,0,0,.18);
      padding: 12px;
      display:grid;
      grid-template-columns: 22px 1fr;
      gap: 10px;
      align-items:start;
    }
    .item input{margin-top:3px;accent-color: var(--violet)}
    .item .t{display:flex;justify-content:space-between;gap:12px;align-items:baseline;flex-wrap:wrap}
    .item .t strong{font-size: 14px}
    .item .t em{font-style:normal;color:var(--muted);font-size:12px}
    .item .d{margin-top:6px;color:var(--muted);font-size: 13px;line-height:1.55}

    /* Risk / meter grid */
    .riskGrid{
      display:grid;
      grid-template-columns: repeat(2, minmax(0,1fr));
      gap: 10px;
    }
    @media (max-width: 640px){
      .riskGrid{grid-template-columns:1fr}
    }

    .risk{
      border:1px solid rgba(255,255,255,.12);
      border-radius: 16px;
      background: rgba(0,0,0,.18);
      padding: 12px;
    }
    .risk .rTop{display:flex;justify-content:space-between;gap:10px;align-items:center;flex-wrap:wrap}
    .risk strong{font-size: 13px}
    .meter{height: 10px;border-radius:99px;background: rgba(255,255,255,.08);border:1px solid rgba(255,255,255,.10);overflow:hidden;margin-top:10px}
    .meter > i{display:block;height:100%;width:50%;border-radius:99px}
    .risk p{margin:8px 0 0;color:var(--muted);font-size: 12px;line-height:1.45}

    /* Commentary */
    details{
      border: 1px solid rgba(255,255,255,.12);
      border-radius: 16px;
      background: rgba(0,0,0,.18);
      padding: 12px;
    }
    details + details{margin-top:10px}
    summary{
      cursor:pointer;
      list-style:none;
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap: 12px;
      user-select:none;
    }
    summary::-webkit-details-marker{display:none}
    summary strong{font-size: 14px}
    summary .hint{font-size:12px;color:var(--muted)}
    .detailBody{margin-top:10px;color:var(--muted);font-size: 13px;line-height:1.6}
    .callout{
      border-left: 3px solid rgba(187,167,255,.7);
      padding: 10px 12px;
      background: rgba(187,167,255,.08);
      border-radius: 14px;
      margin-top: 10px;
      color: rgba(255,255,255,.82);
    }

    /* Footer */
    footer{
      margin-top: 16px;
      padding: 14px 16px;
      border: 1px dashed rgba(255,255,255,.16);
      border-radius: var(--radius);
      color: var(--muted);
      font-size: 12px;
      line-height: 1.6;
      background: rgba(0,0,0,.14);
    }

    /* Utility */
    .mono{font-family:var(--mono)}
    .row2{display:grid;grid-template-columns: 1fr 1fr;gap: 12px}
    @media (max-width: 860px){.row2{grid-template-columns:1fr}}

    .hr{
      height: 1px;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,.14), transparent);
      margin: 12px 0;
    }

    /* Button */
    .btn{
      appearance:none;border:1px solid rgba(255,255,255,.16);
      background: rgba(0,0,0,.22);
      color: var(--text);
      padding: 10px 12px;
      border-radius: 14px;
      cursor:pointer;
      box-shadow: 0 12px 30px rgba(0,0,0,.25);
      transition: transform .12s ease, border-color .12s ease, background .12s ease;
      font-size: 13px;
    }
    .btn:hover{transform: translateY(-1px);border-color: rgba(255,255,255,.26);background: rgba(255,255,255,.07)}
    .btnRow{display:flex;gap:10px;flex-wrap:wrap;align-items:center}

    .toast{
      position: fixed;
      left: 50%;
      bottom: 18px;
      transform: translateX(-50%);
      background: rgba(10,14,22,.78);
      border: 1px solid rgba(255,255,255,.14);
      color: rgba(255,255,255,.86);
      padding: 10px 12px;
      border-radius: 14px;
      box-shadow: 0 20px 70px rgba(0,0,0,.5);
      font-size: 12px;
      max-width: min(720px, calc(100vw - 24px));
      display:none;
      backdrop-filter: blur(10px);
      z-index:999;
    }

    /* Phase cards */
    .phases{
      display:grid;
      grid-template-columns: repeat(4, minmax(0,1fr));
      gap: 10px;
    }
    @media (max-width: 860px){.phases{grid-template-columns: repeat(2, minmax(0,1fr))}}
    @media (max-width: 500px){.phases{grid-template-columns: 1fr}}

    .phase{
      border: 1px solid rgba(255,255,255,.12);
      border-radius: 16px;
      background: rgba(0,0,0,.18);
      padding: 12px;
      text-align:center;
      transition: border-color .2s ease, background .2s ease;
    }
    .phase:hover{border-color: rgba(187,167,255,.35); background: rgba(187,167,255,.06)}
    .phase .phaseNum{
      width:32px;height:32px;border-radius:99px;
      display:inline-flex;align-items:center;justify-content:center;
      font-weight:700;font-size:14px;
      border: 1px solid rgba(255,255,255,.18);
      background: rgba(255,255,255,.06);
      margin-bottom:8px;
    }
    .phase h3{margin:0 0 6px;font-size:13px;letter-spacing:-0.01em}
    .phase p{margin:0;color:var(--muted);font-size:12px;line-height:1.45}

    /* Signal cards */
    .signals{
      display:grid;
      grid-template-columns: repeat(3, minmax(0,1fr));
      gap: 10px;
    }
    @media (max-width: 740px){.signals{grid-template-columns:1fr}}

    .signal{
      border: 1px solid rgba(255,255,255,.12);
      border-radius: 16px;
      background: rgba(0,0,0,.18);
      padding: 14px;
      text-align:center;
      position:relative;
    }
    .signal .sigIcon{
      width:44px;height:44px;border-radius:12px;
      display:inline-flex;align-items:center;justify-content:center;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.05);
      margin-bottom:10px;
    }
    .signal h4{margin:0 0 4px;font-size:13px}
    .signal p{margin:0;color:var(--muted);font-size:12px;line-height:1.4}

    /* Quote block */
    .quoteBlock{
      border: 1px solid rgba(187,167,255,.2);
      border-radius: 16px;
      background: rgba(187,167,255,.05);
      padding: 16px 18px;
      position:relative;
    }
    .quoteBlock::before{
      content:"\201C";
      position:absolute;
      top:6px;left:12px;
      font-size:48px;
      color:rgba(187,167,255,.25);
      font-family:Georgia,serif;
      line-height:1;
    }
    .quoteBlock p{
      margin:0;
      padding-left:28px;
      font-size:14px;
      line-height:1.65;
      font-style:italic;
      color:rgba(255,255,255,.82);
    }
    .quoteBlock .qSrc{
      margin-top:8px;
      padding-left:28px;
      font-size:11px;
      color:var(--faint);
      font-style:normal;
      text-transform:uppercase;
      letter-spacing:.1em;
    }

    /* Comparison */
    .compare{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 0;
    }
    @media (max-width: 640px){.compare{grid-template-columns:1fr}}
    .compareSide{padding:14px}
    .compareSide:first-child{border-right: 1px solid rgba(255,255,255,.08)}
    @media (max-width: 640px){.compareSide:first-child{border-right:none;border-bottom: 1px solid rgba(255,255,255,.08)}}
    .compareSide h3{margin:0 0 10px;font-size:14px}
    .compareSide ul{margin:0;padding:0;list-style:none}
    .compareSide li{
      padding:6px 0;
      font-size:13px;
      color:var(--muted);
      line-height:1.5;
      border-bottom:1px solid rgba(255,255,255,.05);
      display:flex;gap:8px;align-items:baseline;
    }
    .compareSide li:last-child{border:none}
    .compareSide li .icon{flex-shrink:0;width:16px;text-align:center;font-size:11px}

    /* Radial viz container */
    .radialWrap{display:flex;justify-content:center;padding:8px 0}

    /* Animated pulse for clarity meter */
    @keyframes pulse{
      0%,100%{opacity:.6}
      50%{opacity:1}
    }

    /* Print-friendly */
    @media print{
      body{background:white;color:#111}
      header,.card,details{box-shadow:none}
      .toast{display:none !important}
      .callout{border-left-color:#666;background:#f5f5f5;color:#333}
    }
  </style>
</head>
<body>
  <div class="wrap">

    <header>
      <div class="heroArt" aria-hidden="true">
        <svg viewBox="0 0 520 260" role="img">
          <defs>
            <linearGradient id="g1" x1="0" x2="1" y1="0" y2="1">
              <stop offset="0" stop-color="rgba(187,167,255,.55)" />
              <stop offset="1" stop-color="rgba(122,215,255,.55)" />
            </linearGradient>
            <linearGradient id="g2" x1="0" x2="1" y1="1" y2="0">
              <stop offset="0" stop-color="rgba(255,210,122,.45)" />
              <stop offset="1" stop-color="rgba(117,240,182,.35)" />
            </linearGradient>
            <filter id="blurGlow" x="-30%" y="-30%" width="160%" height="160%">
              <feGaussianBlur stdDeviation="14" result="b"/>
              <feColorMatrix in="b" type="matrix" values="1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 18 -7" result="g"/>
              <feMerge>
                <feMergeNode in="g"/>
                <feMergeNode in="SourceGraphic"/>
              </feMerge>
            </filter>
          </defs>
          <!-- Mirror / reflection motif -->
          <g filter="url(#blurGlow)">
            <!-- Left silhouette (the performed self) -->
            <ellipse cx="180" cy="130" rx="55" ry="75" fill="none" stroke="url(#g1)" stroke-width="2.5" opacity=".5"/>
            <ellipse cx="180" cy="130" rx="35" ry="50" fill="none" stroke="rgba(187,167,255,.3)" stroke-width="1.5"/>
            <!-- Mirror line -->
            <line x1="260" y1="30" x2="260" y2="230" stroke="rgba(255,255,255,.3)" stroke-width="1.5" stroke-dasharray="4 6"/>
            <!-- Right silhouette (the real self) -->
            <ellipse cx="340" cy="130" rx="55" ry="75" fill="none" stroke="url(#g2)" stroke-width="2.5" opacity=".7"/>
            <ellipse cx="340" cy="130" rx="35" ry="50" fill="none" stroke="rgba(117,240,182,.3)" stroke-width="1.5"/>
            <!-- Clarity glow at center -->
            <circle cx="260" cy="130" r="18" fill="rgba(255,255,255,.25)"/>
            <circle cx="260" cy="130" r="8" fill="rgba(255,255,255,.6)"/>
            <!-- Connecting arcs -->
            <path d="M215,70 Q260,40 305,70" fill="none" stroke="rgba(255,255,255,.2)" stroke-width="1.5"/>
            <path d="M215,190 Q260,220 305,190" fill="none" stroke="rgba(255,255,255,.2)" stroke-width="1.5"/>
            <!-- Scatter dots -->
            <circle cx="140" cy="80" r="4" fill="rgba(187,167,255,.5)"/>
            <circle cx="390" cy="90" r="5" fill="rgba(117,240,182,.45)"/>
            <circle cx="160" cy="190" r="3.5" fill="rgba(122,215,255,.4)"/>
            <circle cx="370" cy="180" r="4" fill="rgba(255,210,122,.45)"/>
          </g>
        </svg>
      </div>

      <div class="headerGrid">
        <div>
          <div class="kicker"><span class="dot"></span> jungian psychology &bull; self-awareness &bull; inner alignment</div>
          <h1>Once You See Yourself Clearly, You Can't Pretend</h1>
          <p class="subtitle">
            Pretending works only when you don't see yourself clearly. Once you do, pretending becomes exhausting.
            This infographic maps the psychological mechanics of that shift: how clarity emerges, why it destabilizes your old patterns,
            and what it means when <b>your nervous system no longer tolerates misalignment</b>.
          </p>
          <div class="btnRow">
            <button class="btn" id="jumpViz">Jump to the energy model</button>
            <button class="btn" id="jumpCheck">Jump to self-assessment</button>
            <button class="btn" id="toggleNotes">Toggle commentary mode</button>
          </div>
        </div>

        <div class="topStats" aria-label="Key insights summarized">
          <div class="stat">
            <div class="label">Core thesis</div>
            <div class="value">Clarity kills pretending</div>
            <div class="note">Not through courage -- through awareness. You simply feel the cost now.</div>
          </div>
          <div class="stat">
            <div class="label">Mechanism</div>
            <div class="value">Awareness removes insulation</div>
            <div class="note">Every compromise, every performance, now generates friction you can feel.</div>
          </div>
          <div class="stat">
            <div class="label">The shift</div>
            <div class="value">External validation &rarr; internal alignment</div>
            <div class="note">You move from seeking approval to trusting your own signals.</div>
          </div>
          <div class="stat">
            <div class="label">End state</div>
            <div class="value">Coherence = relief</div>
            <div class="note">Inner experience matches outer behavior. The tension dissolves.</div>
          </div>
        </div>
      </div>
    </header>

    <div class="grid">

      <!-- Section 1: The Anatomy of Pretending -->
      <section class="card" aria-label="The anatomy of pretending">
        <div class="cardHeader">
          <h2>The Anatomy of Pretending</h2>
          <div class="chip"><b>Key idea:</b> pretending always had a cost</div>
        </div>
        <div class="cardBody">
          <div class="split">
            <div>
              <p class="muted" style="margin-top:0">
                Before clarity, you can play roles without noticing the cost. You say the right things, act agreeable,
                fit into expectations, and it feels <b>normal</b>. The energy drain is invisible -- distributed across
                every interaction, every suppressed instinct, every softened truth.
              </p>
              <p class="muted">
                Pretending always required effort. You just didn't notice it before.
                Now you do. And that noticing changes everything.
              </p>

              <div class="quoteBlock" style="margin-top:12px">
                <p>What once felt harmless now feels dishonest -- not to others, to yourself. And self-betrayal becomes harder to tolerate once you recognize it.</p>
                <div class="qSrc">From the source text</div>
              </div>
            </div>
            <div>
              <div class="viz" style="padding:14px" aria-label="Costs of pretending">
                <div class="small" style="margin-bottom:10px">The hidden costs of performance -- what pretending actually takes from you:</div>
                <div class="flow">
                  <div class="pill"><span>Saying yes when you mean no</span><span class="tag">energy</span></div>
                  <div class="pill"><span>Softening truth to avoid discomfort</span><span class="tag">integrity</span></div>
                  <div class="pill"><span>Shrinking to be accepted</span><span class="tag">identity</span></div>
                  <div class="pill"><span>Choosing convenience over alignment</span><span class="tag">direction</span></div>
                  <div class="pill"><span>Managing perceptions constantly</span><span class="tag">attention</span></div>
                  <div class="pill"><span>Overjustifying boundaries</span><span class="tag">autonomy</span></div>
                </div>
                <div class="hr"></div>
                <div class="small">These costs are invisible before clarity. After clarity, each one generates a signal you can no longer ignore.</div>
              </div>
            </div>
          </div>

          <div class="callout" data-commentary>
            <b>Commentary:</b> The text describes a universal psychological pattern: the adaptive self we construct in childhood and social life becomes a cage once we develop enough awareness to see it. In Jungian terms, this is the <i>persona</i> -- the social mask -- becoming transparent. The cost was always there; what changes is your ability to perceive it.
          </div>
        </div>
      </section>

      <!-- Section 2: The Four Phases + Signals -->
      <section class="row">
        <div class="card" aria-label="Phases of clarity">
          <div class="cardHeader">
            <h2>The Journey: Four Phases of Clarity</h2>
            <div class="chip">progressive awakening</div>
          </div>
          <div class="cardBody">
            <p class="muted" style="margin-top:0">
              Self-clarity doesn't arrive as a single event. It unfolds in stages, each one shifting how you
              experience the same life you had before.
            </p>

            <div class="phases">
              <div class="phase" data-phase="1">
                <div class="phaseNum" style="color:var(--cyan)">1</div>
                <h3 style="color:var(--cyan)">Unconscious Performance</h3>
                <p>You play roles automatically. The cost is invisible. Blending in feels like belonging.</p>
              </div>
              <div class="phase" data-phase="2">
                <div class="phaseNum" style="color:var(--warn)">2</div>
                <h3 style="color:var(--warn)">First Signals</h3>
                <p>A pause before you speak. A hesitation before you agree. Quiet discomfort after you smile.</p>
              </div>
              <div class="phase" data-phase="3">
                <div class="phaseNum" style="color:var(--orange)">3</div>
                <h3 style="color:var(--orange)">Destabilization</h3>
                <p>Old patterns still exist but no longer feel comfortable. The point of no return approaches.</p>
              </div>
              <div class="phase" data-phase="4">
                <div class="phaseNum" style="color:var(--good)">4</div>
                <h3 style="color:var(--good)">Coherence</h3>
                <p>Inner experience matches outer behavior. Performance becomes unnecessary. Relief arrives.</p>
              </div>
            </div>

            <div class="viz" style="margin-top:12px" id="phaseViz">
              <svg viewBox="0 0 980 200" role="img" aria-label="Phases of clarity timeline">
                <defs>
                  <linearGradient id="phaseGrad" x1="0" x2="1" y1="0" y2="0">
                    <stop offset="0" stop-color="rgba(122,215,255,.6)"/>
                    <stop offset=".33" stop-color="rgba(255,210,122,.6)"/>
                    <stop offset=".66" stop-color="rgba(255,179,138,.6)"/>
                    <stop offset="1" stop-color="rgba(117,240,182,.6)"/>
                  </linearGradient>
                </defs>
                <!-- Timeline base -->
                <line x1="60" y1="100" x2="920" y2="100" stroke="rgba(255,255,255,.12)" stroke-width="2"/>
                <!-- Phase progress line -->
                <line x1="60" y1="100" x2="920" y2="100" stroke="url(#phaseGrad)" stroke-width="3" stroke-linecap="round"/>
                <!-- Phase markers -->
                <g>
                  <circle cx="60" cy="100" r="12" fill="rgba(0,0,0,.5)" stroke="var(--cyan)" stroke-width="2"/>
                  <text x="60" y="104" text-anchor="middle" fill="var(--cyan)" font-size="12" font-weight="700">1</text>
                  <text x="60" y="140" text-anchor="middle" fill="var(--muted)" font-size="11">Unaware</text>
                  <text x="60" y="155" text-anchor="middle" fill="var(--faint)" font-size="10">roles feel normal</text>
                </g>
                <g>
                  <circle cx="347" cy="100" r="12" fill="rgba(0,0,0,.5)" stroke="var(--warn)" stroke-width="2"/>
                  <text x="347" y="104" text-anchor="middle" fill="var(--warn)" font-size="12" font-weight="700">2</text>
                  <text x="347" y="140" text-anchor="middle" fill="var(--muted)" font-size="11">First Friction</text>
                  <text x="347" y="155" text-anchor="middle" fill="var(--faint)" font-size="10">noticing begins</text>
                </g>
                <g>
                  <circle cx="633" cy="100" r="12" fill="rgba(0,0,0,.5)" stroke="var(--orange)" stroke-width="2"/>
                  <text x="633" y="104" text-anchor="middle" fill="var(--orange)" font-size="12" font-weight="700">3</text>
                  <text x="633" y="140" text-anchor="middle" fill="var(--muted)" font-size="11">Destabilization</text>
                  <text x="633" y="155" text-anchor="middle" fill="var(--faint)" font-size="10">point of no return</text>
                </g>
                <g>
                  <circle cx="920" cy="100" r="12" fill="rgba(0,0,0,.5)" stroke="var(--good)" stroke-width="2"/>
                  <text x="920" y="104" text-anchor="middle" fill="var(--good)" font-size="12" font-weight="700">4</text>
                  <text x="920" y="140" text-anchor="middle" fill="var(--muted)" font-size="11">Coherence</text>
                  <text x="920" y="155" text-anchor="middle" fill="var(--faint)" font-size="10">relief from tension</text>
                </g>
                <!-- Labels above -->
                <text x="200" y="70" text-anchor="middle" fill="rgba(255,255,255,.40)" font-size="10">awareness emerges</text>
                <path d="M130,78 L270,78" fill="none" stroke="rgba(255,255,255,.10)" stroke-width="1"/>
                <text x="490" y="70" text-anchor="middle" fill="rgba(255,255,255,.40)" font-size="10">pretending feels heavy</text>
                <path d="M400,78 L580,78" fill="none" stroke="rgba(255,255,255,.10)" stroke-width="1"/>
                <text x="775" y="70" text-anchor="middle" fill="rgba(255,255,255,.40)" font-size="10">performance fades</text>
                <path d="M690,78 L860,78" fill="none" stroke="rgba(255,255,255,.10)" stroke-width="1"/>
              </svg>
            </div>

            <div class="callout" data-commentary>
              <b>Commentary:</b> This four-phase model maps well to the Jungian concept of <i>individuation</i> -- the lifelong process of integrating unconscious aspects of the self. Phase 2 (first signals) corresponds to what Jung called a "confrontation with the shadow": you begin to see the gap between persona and authentic self. The destabilization in Phase 3 is often experienced as a life crisis, but it is structurally a growth event.
            </div>
          </div>
        </div>

        <div class="card" aria-label="Signals of misalignment">
          <div class="cardHeader">
            <h2>Signals Your Body Sends</h2>
            <div class="chip"><b>Not punishment:</b> calibration</div>
          </div>
          <div class="cardBody">
            <p class="muted" style="margin-top:0">
              Once clarity begins, every act of pretending generates a physical or emotional signal.
              These aren't guilt. They're your nervous system telling you that something no longer fits.
            </p>

            <div class="signals">
              <div class="signal">
                <div class="sigIcon">
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="var(--bad)" stroke-width="1.5" stroke-linecap="round">
                    <path d="M12 4C8 4 5 7 5 11c0 3 2 5 3.5 7.5C10 20.5 11 22 12 22c1 0 2-1.5 3.5-3.5C17 16 19 14 19 11c0-4-3-7-7-7z"/>
                    <path d="M9.5 11.5l1.5 1.5 3-3" stroke="var(--good)" stroke-width="1.5"/>
                  </svg>
                </div>
                <h4>Chest Tightening</h4>
                <p>A physical contraction when you say something that doesn't match what you feel.</p>
              </div>
              <div class="signal">
                <div class="sigIcon">
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="var(--warn)" stroke-width="1.5" stroke-linecap="round">
                    <circle cx="12" cy="12" r="9"/>
                    <path d="M12 8v4l2.5 2.5"/>
                  </svg>
                </div>
                <h4>Lingering Irritation</h4>
                <p>A low-grade frustration after interactions where you performed instead of expressed.</p>
              </div>
              <div class="signal">
                <div class="sigIcon">
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="var(--violet)" stroke-width="1.5" stroke-linecap="round">
                    <circle cx="9" cy="12" r="5"/>
                    <circle cx="15" cy="12" r="5" opacity=".4"/>
                    <path d="M14 12h6" stroke-dasharray="2 2"/>
                  </svg>
                </div>
                <h4>Self-Distance</h4>
                <p>A sense of being removed from yourself -- present but not fully participating.</p>
              </div>
              <div class="signal">
                <div class="sigIcon">
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="var(--orange)" stroke-width="1.5" stroke-linecap="round">
                    <path d="M5 12h14"/>
                    <path d="M12 5v14" opacity=".4"/>
                    <circle cx="12" cy="12" r="3" fill="rgba(255,179,138,.2)"/>
                  </svg>
                </div>
                <h4>Hesitation</h4>
                <p>A pause before agreeing. Resistance where there was once automatic compliance.</p>
              </div>
              <div class="signal">
                <div class="sigIcon">
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="var(--cyan)" stroke-width="1.5" stroke-linecap="round">
                    <path d="M4 20L8 16M8 16V20M8 16H4"/>
                    <rect x="10" y="4" width="10" height="12" rx="2"/>
                    <path d="M13 10h4M13 13h2" opacity=".5"/>
                  </svg>
                </div>
                <h4>Energy Drain</h4>
                <p>Fatigue that arrives sooner, without obvious cause -- the cost of maintaining a role.</p>
              </div>
              <div class="signal">
                <div class="sigIcon">
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="var(--good)" stroke-width="1.5" stroke-linecap="round">
                    <path d="M12 3v18"/>
                    <path d="M3 12h18"/>
                    <circle cx="12" cy="12" r="9" opacity=".3"/>
                    <circle cx="12" cy="12" r="4" fill="rgba(117,240,182,.15)"/>
                  </svg>
                </div>
                <h4>Quiet Knowing</h4>
                <p>An unmistakable sense when something is wrong -- or when it's right. Calm, not excited.</p>
              </div>
            </div>

            <div class="hr"></div>
            <div class="small">These signals are not punishment or guilt. They are calibration -- your system telling you what no longer fits.</div>

            <div class="callout" data-commentary>
              <b>Commentary:</b> This somatic awareness maps to what psychologists call <i>interoception</i> -- the ability to read internal body signals. Research shows that people with greater interoceptive accuracy tend to make decisions more aligned with their values. The text essentially argues that self-clarity enhances interoception, making misalignment physically perceptible.
            </div>
          </div>
        </div>
      </section>

      <!-- Section 3: Energy Model (Interactive) -->
      <section class="card" id="energyCard" aria-label="Energy cost model">
        <div class="cardHeader">
          <h2>The Energy Cost Model: Pretending vs. Coherence</h2>
          <div class="chip"><b>Interactive:</b> adjust clarity level</div>
        </div>
        <div class="cardBody">
          <p class="muted" style="margin-top:0">
            As clarity increases, the energy cost of pretending rises (you feel it more) while the energy needed
            for authenticity stays low. At some crossover point, coherence becomes the path of least resistance.
          </p>

          <div class="viz" id="viz" aria-label="Energy model visualization">
            <svg viewBox="0 0 980 380" id="energySvg" role="img" aria-label="Energy cost curves">
              <defs>
                <linearGradient id="pretendGrad" x1="0" x2="1" y1="0" y2="0">
                  <stop offset="0" stop-color="rgba(255,122,153,.5)"/>
                  <stop offset="1" stop-color="rgba(255,122,153,.8)"/>
                </linearGradient>
                <linearGradient id="coherGrad" x1="0" x2="1" y1="0" y2="0">
                  <stop offset="0" stop-color="rgba(117,240,182,.5)"/>
                  <stop offset="1" stop-color="rgba(117,240,182,.8)"/>
                </linearGradient>
                <linearGradient id="areaFill1" x1="0" x2="0" y1="0" y2="1">
                  <stop offset="0" stop-color="rgba(255,122,153,.15)"/>
                  <stop offset="1" stop-color="rgba(255,122,153,0)"/>
                </linearGradient>
                <linearGradient id="areaFill2" x1="0" x2="0" y1="0" y2="1">
                  <stop offset="0" stop-color="rgba(117,240,182,.12)"/>
                  <stop offset="1" stop-color="rgba(117,240,182,0)"/>
                </linearGradient>
              </defs>

              <rect x="0" y="0" width="980" height="380" fill="rgba(0,0,0,.05)"/>

              <!-- Axes -->
              <path d="M70 30 L70 320 L940 320" stroke="rgba(255,255,255,.18)" stroke-width="1.2" fill="none"/>

              <!-- Grid lines -->
              <g id="energyGrid"></g>

              <!-- Areas -->
              <path id="pretendArea" fill="url(#areaFill1)"/>
              <path id="coherArea" fill="url(#areaFill2)"/>

              <!-- Curves -->
              <path id="pretendCurve" stroke="var(--bad)" stroke-width="3" fill="none" stroke-linecap="round"/>
              <path id="coherCurve" stroke="var(--good)" stroke-width="3" fill="none" stroke-linecap="round"/>

              <!-- Crossover marker -->
              <g id="crossover"></g>

              <!-- Clarity marker -->
              <g id="clarityMarker"></g>

              <!-- Labels -->
              <g font-family="ui-sans-serif, system-ui" font-size="13" fill="rgba(255,255,255,.75)">
                <text x="70" y="20" fill="rgba(255,255,255,.88)" font-weight="700">Felt energy cost over time</text>
                <text x="70" y="355" font-size="12" fill="rgba(255,255,255,.55)">Clarity level (low &rarr; high) &rarr;</text>
                <text x="15" y="190" font-size="12" fill="rgba(255,255,255,.55)" transform="rotate(-90 15 190)">Energy cost (felt)</text>
              </g>
            </svg>

            <div class="legend" aria-label="Legend">
              <div class="key"><span class="sw" style="background: var(--bad)"></span> Energy cost of pretending (felt)</div>
              <div class="key"><span class="sw" style="background: var(--good)"></span> Energy cost of authenticity</div>
              <div class="key"><span class="sw" style="background: rgba(255,255,255,.5)"></span> Crossover point</div>
            </div>
          </div>

          <div class="controls">
            <div class="control">
              <label>
                <span>Your clarity level</span>
                <span class="readout" id="clarityReadout">40%</span>
              </label>
              <input id="claritySlider" type="range" min="0" max="100" value="40"/>
              <div class="small" style="margin-top:8px">Higher = more self-aware. Watch how the energy costs shift.</div>
            </div>
            <div class="control">
              <label>
                <span>Social pressure</span>
                <span class="readout" id="pressureReadout">50%</span>
              </label>
              <input id="pressureSlider" type="range" min="0" max="100" value="50"/>
              <div class="small" style="margin-top:8px">Higher = more external demand to perform. Raises the initial benefit of pretending.</div>
            </div>
          </div>

          <div id="energyInsight" class="small" style="margin-top:12px"></div>

          <div class="callout" data-commentary>
            <b>Commentary:</b> This model is conceptual, not empirical. But it captures a real dynamic: before awareness, pretending feels effortless (the cost is unconscious). As clarity grows, the felt cost of pretending rises exponentially. At some point, being authentic -- even with its social risks -- becomes <i>less</i> work than maintaining the mask. That crossover is what the text calls "the point of no return."
          </div>
        </div>
      </section>

      <!-- Section 4: Before vs After + Relationship Filter -->
      <section class="row">
        <div class="card" aria-label="Before vs after clarity">
          <div class="cardHeader">
            <h2>Before Clarity vs. After Clarity</h2>
            <div class="chip">the internal shift</div>
          </div>
          <div class="cardBody">
            <div class="compare">
              <div class="compareSide">
                <h3 style="color:var(--warn)">Before Clarity</h3>
                <ul>
                  <li><span class="icon" style="color:var(--warn)">&#9679;</span> Roles feel natural, not heavy</li>
                  <li><span class="icon" style="color:var(--warn)">&#9679;</span> Compliance is automatic</li>
                  <li><span class="icon" style="color:var(--warn)">&#9679;</span> Chasing intensity and excitement</li>
                  <li><span class="icon" style="color:var(--warn)">&#9679;</span> Overcommit, then resent</li>
                  <li><span class="icon" style="color:var(--warn)">&#9679;</span> Seeking external validation</li>
                  <li><span class="icon" style="color:var(--warn)">&#9679;</span> Smoothing over awkwardness fast</li>
                  <li><span class="icon" style="color:var(--warn)">&#9679;</span> Explaining yourself constantly</li>
                  <li><span class="icon" style="color:var(--warn)">&#9679;</span> Managing perceptions is invisible work</li>
                </ul>
              </div>
              <div class="compareSide">
                <h3 style="color:var(--good)">After Clarity</h3>
                <ul>
                  <li><span class="icon" style="color:var(--good)">&#9679;</span> Roles feel heavy, even when "correct"</li>
                  <li><span class="icon" style="color:var(--good)">&#9679;</span> Hesitation replaces automation</li>
                  <li><span class="icon" style="color:var(--good)">&#9679;</span> Respecting steadiness over intensity</li>
                  <li><span class="icon" style="color:var(--good)">&#9679;</span> Trust the first signal, don't overcommit</li>
                  <li><span class="icon" style="color:var(--good)">&#9679;</span> Trusting internal alignment</li>
                  <li><span class="icon" style="color:var(--good)">&#9679;</span> Allowing awkwardness to exist</li>
                  <li><span class="icon" style="color:var(--good)">&#9679;</span> Not needing to explain boundaries</li>
                  <li><span class="icon" style="color:var(--good)">&#9679;</span> Energy conserved by not performing</li>
                </ul>
              </div>
            </div>

            <div class="hr"></div>

            <div class="quoteBlock">
              <p>This is what people mistake for confidence. But it isn't confidence -- it's coherence. Your inner experience matches your outer behavior. And that coherence removes tension.</p>
              <div class="qSrc">From the source text</div>
            </div>

            <div class="callout" data-commentary>
              <b>Commentary:</b> Notice the asymmetry: "before" is about doing (managing, chasing, smoothing). "After" is about not-doing (pausing, allowing, trusting). The text suggests that growth here is subtractive, not additive -- you don't add skills, you stop performing. This aligns with the Taoist concept of <i>wu wei</i> and with Jung's view that individuation is about removing what is false rather than building something new.
            </div>
          </div>
        </div>

        <div class="card" aria-label="Relationship filter">
          <div class="cardHeader">
            <h2>The Relationship Filter</h2>
            <div class="chip"><b>Clarity:</b> reveals what is real</div>
          </div>
          <div class="cardBody">
            <p class="muted" style="margin-top:0">
              When you stop performing, some connections loosen. Not all -- only the ones
              built on convenience. This feels like loss, but it is accuracy.
            </p>

            <div class="viz" aria-label="Relationship filter visualization">
              <svg viewBox="0 0 480 340" role="img" aria-label="Connections before and after clarity filter">
                <defs>
                  <filter id="softGlow" x="-20%" y="-20%" width="140%" height="140%">
                    <feGaussianBlur stdDeviation="6" result="b"/>
                    <feMerge><feMergeNode in="b"/><feMergeNode in="SourceGraphic"/></feMerge>
                  </filter>
                </defs>
                <!-- You (center) -->
                <g filter="url(#softGlow)">
                  <circle cx="240" cy="170" r="22" fill="rgba(187,167,255,.2)" stroke="var(--violet)" stroke-width="2"/>
                  <text x="240" y="175" text-anchor="middle" fill="var(--text)" font-size="12" font-weight="700">You</text>
                </g>

                <!-- Performance-based connections (fade with clarity) -->
                <g id="perfConns" opacity="1">
                  <line x1="240" y1="170" x2="80" y2="60" stroke="rgba(255,122,153,.3)" stroke-width="1.5" stroke-dasharray="4 4"/>
                  <circle cx="80" cy="60" r="14" fill="rgba(255,122,153,.12)" stroke="rgba(255,122,153,.3)" stroke-width="1.5"/>
                  <text x="80" y="40" text-anchor="middle" fill="var(--faint)" font-size="9">convenience</text>

                  <line x1="240" y1="170" x2="400" y2="55" stroke="rgba(255,122,153,.3)" stroke-width="1.5" stroke-dasharray="4 4"/>
                  <circle cx="400" cy="55" r="14" fill="rgba(255,122,153,.12)" stroke="rgba(255,122,153,.3)" stroke-width="1.5"/>
                  <text x="400" y="35" text-anchor="middle" fill="var(--faint)" font-size="9">compliance</text>

                  <line x1="240" y1="170" x2="55" y2="190" stroke="rgba(255,122,153,.3)" stroke-width="1.5" stroke-dasharray="4 4"/>
                  <circle cx="55" cy="190" r="14" fill="rgba(255,122,153,.12)" stroke="rgba(255,122,153,.3)" stroke-width="1.5"/>
                  <text x="55" y="214" text-anchor="middle" fill="var(--faint)" font-size="9">image</text>

                  <line x1="240" y1="170" x2="430" y2="200" stroke="rgba(255,122,153,.3)" stroke-width="1.5" stroke-dasharray="4 4"/>
                  <circle cx="430" cy="200" r="14" fill="rgba(255,122,153,.12)" stroke="rgba(255,122,153,.3)" stroke-width="1.5"/>
                  <text x="430" y="224" text-anchor="middle" fill="var(--faint)" font-size="9">habit</text>
                </g>

                <!-- Real connections (strengthen with clarity) -->
                <g id="realConns">
                  <line x1="240" y1="170" x2="150" y2="290" stroke="rgba(117,240,182,.5)" stroke-width="2.5"/>
                  <circle cx="150" cy="290" r="16" fill="rgba(117,240,182,.15)" stroke="rgba(117,240,182,.5)" stroke-width="2"/>
                  <text x="150" y="318" text-anchor="middle" fill="var(--good)" font-size="10">honesty</text>

                  <line x1="240" y1="170" x2="330" y2="295" stroke="rgba(117,240,182,.5)" stroke-width="2.5"/>
                  <circle cx="330" cy="295" r="16" fill="rgba(117,240,182,.15)" stroke="rgba(117,240,182,.5)" stroke-width="2"/>
                  <text x="330" y="323" text-anchor="middle" fill="var(--good)" font-size="10">presence</text>

                  <line x1="240" y1="170" x2="240" y2="310" stroke="rgba(117,240,182,.5)" stroke-width="2.5"/>
                  <circle cx="240" cy="310" r="16" fill="rgba(117,240,182,.15)" stroke="rgba(117,240,182,.5)" stroke-width="2"/>
                  <text x="240" y="338" text-anchor="middle" fill="var(--good)" font-size="10">acceptance</text>
                </g>

                <!-- Filter line -->
                <line x1="40" y1="235" x2="440" y2="235" stroke="rgba(187,167,255,.25)" stroke-width="1" stroke-dasharray="6 4"/>
                <text x="455" y="239" fill="rgba(187,167,255,.5)" font-size="10">clarity filter</text>
              </svg>
            </div>

            <div class="row2" style="margin-top:10px">
              <div class="risk">
                <div class="rTop"><strong>What loosens</strong><span class="badge" style="color:var(--bad)">performance-based</span></div>
                <p>Connections that required you to be someone you're no longer willing to be. Built on convenience, compliance, or image.</p>
              </div>
              <div class="risk">
                <div class="rTop"><strong>What remains</strong><span class="badge" style="color:var(--good)">presence-based</span></div>
                <p>Connections that allow pauses, honesty, and restraint. They don't need performance. They respond to your presence, not your compliance.</p>
              </div>
            </div>

            <div class="callout" data-commentary>
              <b>Commentary:</b> The text frames relationship loss as accuracy, not damage. This is a mature insight: if a relationship required you to be inauthentic, its loss isn't a failure of clarity -- it's clarity doing its work. The relationships that survive are, by definition, compatible with who you actually are. This is painful but structurally healthy.
            </div>
          </div>
        </div>
      </section>

      <!-- Section 5: The Point of No Return -->
      <section class="card" aria-label="Point of no return">
        <div class="cardHeader">
          <h2>The Point of No Return</h2>
          <div class="chip"><b>Key claim:</b> you can't unknow it</div>
        </div>
        <div class="cardBody">
          <div class="split">
            <div>
              <p class="muted" style="margin-top:0">
                There is a threshold where pretending loses its innocence. You haven't changed your life yet,
                but you've changed how it feels to live it. The old patterns still exist. The old expectations are
                still there. But you no longer inhabit them comfortably.
              </p>
              <p class="muted">
                Once you see through something, you can't fully participate in it again.
                Not because you're forced to change immediately, but because <b>pretending has lost its innocence</b>.
                You know what you're doing now. And knowing removes neutrality.
              </p>

              <div class="flow" style="margin-top:12px">
                <div class="flowNode">
                  <h3>Why you can't go back</h3>
                  <p>Your nervous system no longer tolerates misalignment. You feel it immediately -- a subtle resistance, a loss of energy, a sense of self-distance. These signals guide you.</p>
                  <div class="meta"><span class="badge">somatic memory</span><span class="badge">irreversible awareness</span></div>
                </div>
                <div class="flowNode">
                  <h3>How pretending fades</h3>
                  <p>It doesn't collapse all at once. It fades. Not because you make a decision, but because your system no longer supports it. Every betrayal of what you know carries a cost -- not guilt, fatigue.</p>
                  <div class="meta"><span class="badge">gradual</span><span class="badge">fatigue as teacher</span></div>
                </div>
              </div>
            </div>
            <div>
              <div class="viz" style="padding:14px" aria-label="Threshold visualization">
                <svg viewBox="0 0 440 360" role="img" aria-label="Point of no return threshold">
                  <defs>
                    <linearGradient id="threshGrad" x1="0" x2="0" y1="0" y2="1">
                      <stop offset="0" stop-color="rgba(187,167,255,.6)"/>
                      <stop offset="1" stop-color="rgba(122,215,255,.4)"/>
                    </linearGradient>
                  </defs>
                  <!-- Background zones -->
                  <rect x="30" y="20" width="380" height="140" rx="12" fill="rgba(255,210,122,.05)" stroke="rgba(255,210,122,.12)" stroke-width="1"/>
                  <text x="50" y="48" fill="rgba(255,210,122,.6)" font-size="12" font-weight="700">PRETENDING ZONE</text>
                  <text x="50" y="68" fill="var(--faint)" font-size="11">Roles feel normal. Cost is hidden.</text>
                  <text x="50" y="86" fill="var(--faint)" font-size="11">Compliance is automatic.</text>
                  <text x="50" y="104" fill="var(--faint)" font-size="11">Belonging through performance.</text>
                  <text x="50" y="130" fill="var(--faint)" font-size="11">You can still ignore the signals.</text>

                  <!-- Threshold line -->
                  <line x1="30" y1="180" x2="410" y2="180" stroke="url(#threshGrad)" stroke-width="3"/>
                  <text x="220" y="176" text-anchor="middle" fill="var(--violet)" font-size="13" font-weight="700">POINT OF NO RETURN</text>
                  <text x="220" y="198" text-anchor="middle" fill="var(--faint)" font-size="10">"Pretending has lost its innocence"</text>

                  <!-- Below threshold -->
                  <rect x="30" y="210" width="380" height="130" rx="12" fill="rgba(117,240,182,.05)" stroke="rgba(117,240,182,.12)" stroke-width="1"/>
                  <text x="50" y="238" fill="rgba(117,240,182,.6)" font-size="12" font-weight="700">COHERENCE ZONE</text>
                  <text x="50" y="258" fill="var(--faint)" font-size="11">Performance feels loud. Body reacts.</text>
                  <text x="50" y="276" fill="var(--faint)" font-size="11">Exhaustion becomes your teacher.</text>
                  <text x="50" y="294" fill="var(--faint)" font-size="11">Truth feels lighter than the mask.</text>
                  <text x="50" y="318" fill="var(--faint)" font-size="11">Relief replaces tension.</text>

                  <!-- Arrow down -->
                  <path d="M420 90 L420 280" stroke="rgba(255,255,255,.15)" stroke-width="1.5" marker-end="url(#arrowDown)"/>
                  <defs>
                    <marker id="arrowDown" viewBox="0 0 10 10" refX="5" refY="10" markerWidth="8" markerHeight="8" orient="auto">
                      <path d="M0,0 L5,10 L10,0" fill="rgba(255,255,255,.25)"/>
                    </marker>
                  </defs>
                  <text x="432" y="190" fill="var(--faint)" font-size="10" transform="rotate(90,432,190)">clarity deepens</text>
                </svg>
              </div>
            </div>
          </div>

          <div class="callout" data-commentary>
            <b>Commentary:</b> The "point of no return" is psychologically real. In cognitive science, this maps to a concept called <i>cognitive dissonance reduction</i> -- once you hold two contradictory beliefs (I know who I am + I am pretending to be someone else), the tension is unbearable and one must resolve. The text argues resolution always goes toward truth, because the body won't let you forget what you've seen.
          </div>
        </div>
      </section>

      <!-- Section 6: From Performance to Coherence -->
      <section class="card" aria-label="From performance to coherence">
        <div class="cardHeader">
          <h2>From Performance to Coherence: What Changes</h2>
          <div class="chip"><b>End state:</b> relief, not enlightenment</div>
        </div>
        <div class="cardBody">
          <p class="muted" style="margin-top:0">
            The destination isn't superiority or enlightenment. It's relief. Relief from the constant effort
            of being slightly misaligned.
          </p>

          <div class="riskGrid">
            <div class="risk">
              <div class="rTop"><strong>Sleep &amp; Recovery</strong><span class="badge" style="color:var(--good)">improves</span></div>
              <div class="meter"><i style="width:75%;background:linear-gradient(90deg, var(--cyan), var(--good))"></i></div>
              <p>"You sleep better. You think more clearly. You recover faster from disappointment."</p>
            </div>
            <div class="risk">
              <div class="rTop"><strong>Decision Quality</strong><span class="badge" style="color:var(--good)">improves</span></div>
              <div class="meter"><i style="width:70%;background:linear-gradient(90deg, var(--cyan), var(--good))"></i></div>
              <p>You feel into decisions instead of rushing them. You trust the first signal.</p>
            </div>
            <div class="risk">
              <div class="rTop"><strong>Emotional Stability</strong><span class="badge" style="color:var(--good)">improves</span></div>
              <div class="meter"><i style="width:80%;background:linear-gradient(90deg, var(--cyan), var(--good))"></i></div>
              <p>No longer oscillating between enthusiasm and regret. Steady, not reactive.</p>
            </div>
            <div class="risk">
              <div class="rTop"><strong>Social Energy</strong><span class="badge" style="color:var(--violet)">reclaimed</span></div>
              <div class="meter"><i style="width:65%;background:linear-gradient(90deg, var(--violet), var(--good))"></i></div>
              <p>Energy once spent managing perceptions is now available for genuine presence.</p>
            </div>
          </div>

          <div class="hr"></div>

          <div class="quoteBlock">
            <p>This is the real consequence of seeing yourself clearly. Not enlightenment, not superiority. Relief. Relief from the constant effort of being slightly misaligned.</p>
            <div class="qSrc">From the source text</div>
          </div>

          <div class="hr"></div>

          <div class="row2">
            <div class="flowNode">
              <h3>What replaces pretending</h3>
              <p>Not confidence. Not assertiveness. <b>Trust.</b> You trust that discomfort is information. You trust that hesitation means something. You trust that silence is sometimes wiser than explanation.</p>
              <div class="meta"><span class="badge">trust in signals</span><span class="badge">self-reliance</span></div>
            </div>
            <div class="flowNode">
              <h3>What it looks like from outside</h3>
              <p>You are present without being reactive, honest without being forceful, clear without being defensive. People mistake this for confidence. It is coherence.</p>
              <div class="meta"><span class="badge">presence</span><span class="badge">coherence</span><span class="badge">groundedness</span></div>
            </div>
          </div>
        </div>
      </section>

      <!-- Section 7: Self-Assessment Checklist -->
      <section class="card" id="checkSection" aria-label="Self-assessment">
        <div class="cardHeader">
          <h2>Self-Assessment: Signs of Growing Clarity</h2>
          <div class="chip">where are you in the process?</div>
        </div>
        <div class="cardBody">
          <p class="muted" style="margin-top:0">
            These are signals described in the text. Check the ones that resonate with your current experience.
            This isn't a test -- it's a mirror.
          </p>

          <div class="checklist" id="checklist">
            <div class="item">
              <input type="checkbox" />
              <div>
                <div class="t"><strong>You pause before agreeing</strong><em>hesitation signal</em></div>
                <div class="d">Where there was once automatic compliance, there is now a moment of checking: "Do I actually mean this?"</div>
              </div>
            </div>
            <div class="item">
              <input type="checkbox" />
              <div>
                <div class="t"><strong>Pretending feels like work</strong><em>energy signal</em></div>
                <div class="d">Emotional labor you didn't consent to anymore. Performance that once felt neutral now feels heavy.</div>
              </div>
            </div>
            <div class="item">
              <input type="checkbox" />
              <div>
                <div class="t"><strong>You notice unspoken agreements</strong><em>pattern recognition</em></div>
                <div class="d">Agreements to stay pleasant, predictable, agreeable. Before, you followed them automatically. Now, you see them.</div>
              </div>
            </div>
            <div class="item">
              <input type="checkbox" />
              <div>
                <div class="t"><strong>Some connections feel off</strong><em>relationship signal</em></div>
                <div class="d">You don't laugh as easily at what feels hollow. You don't agree as quickly to what doesn't align.</div>
              </div>
            </div>
            <div class="item">
              <input type="checkbox" />
              <div>
                <div class="t"><strong>You've stopped overjustifying</strong><em>boundary signal</em></div>
                <div class="d">You stopped explaining your boundaries to people who don't respect them. You stopped overjustifying decisions.</div>
              </div>
            </div>
            <div class="item">
              <input type="checkbox" />
              <div>
                <div class="t"><strong>Discomfort is information</strong><em>trust signal</em></div>
                <div class="d">You trust that discomfort means something. You no longer rush to smooth it over.</div>
              </div>
            </div>
            <div class="item">
              <input type="checkbox" />
              <div>
                <div class="t"><strong>You respect steadiness over intensity</strong><em>maturity signal</em></div>
                <div class="d">Before clarity, you chased intensity. After clarity, calm feels right. Not exciting -- stable.</div>
              </div>
            </div>
            <div class="item">
              <input type="checkbox" />
              <div>
                <div class="t"><strong>You feel relief, not superiority</strong><em>coherence signal</em></div>
                <div class="d">The shift doesn't make you feel better than others. It makes you feel lighter. Performance is unnecessary.</div>
              </div>
            </div>
          </div>

          <div class="hr"></div>
          <div class="btnRow">
            <button class="btn" id="scoreBtn">Where am I on the journey?</button>
            <button class="btn" id="resetBtn">Reset</button>
          </div>
          <div id="scoreOut" class="small" style="margin-top:10px"></div>

          <div class="callout" data-commentary>
            <b>Commentary:</b> This checklist maps roughly to the four phases. Fewer than 3 checks suggests early Phase 1-2 (signals are just beginning). 3-5 checks suggests Phase 2-3 (destabilization is active -- the most uncomfortable but also most transformative period). 6+ checks suggests Phase 3-4 (coherence is forming -- the relief the text describes should be starting to feel real).
          </div>
        </div>
      </section>

      <!-- Section 8: Deep commentary -->
      <section class="card" aria-label="Deeper analysis">
        <div class="cardHeader">
          <h2>Deeper Analysis: Psychological Frameworks</h2>
          <div class="chip">commentary &amp; context</div>
        </div>
        <div class="cardBody">
          <details data-commentary>
            <summary><strong>Jung's Persona and the Shadow</strong><span class="hint">click to expand</span></summary>
            <div class="detailBody">
              <p>
                Carl Jung described the <i>persona</i> as the social mask we wear -- the version of ourselves optimized for acceptance.
                The text describes the moment this mask becomes transparent: you can still wear it, but you now <i>see</i> it as a mask.
                This is the beginning of what Jung called individuation -- the process of becoming who you actually are beneath the adaptive layers.
              </p>
              <p style="margin-top:8px">
                The "shadow" -- the parts of yourself you've suppressed to maintain the persona -- starts to surface. This isn't dangerous; it's necessary.
                The text's description of "signals" (chest tightening, irritation, distance) maps to what Jungian analysts call "shadow knocking" -- the unconscious pushing toward integration.
              </p>
            </div>
          </details>

          <details data-commentary>
            <summary><strong>Cognitive Dissonance Theory (Festinger)</strong><span class="hint">click to expand</span></summary>
            <div class="detailBody">
              <p>
                Leon Festinger's cognitive dissonance theory explains why the "point of no return" is real: when you hold two contradictory cognitions
                ("I know who I am" and "I am pretending to be someone else"), the psychological tension is uncomfortable enough to demand resolution.
                The text argues that resolution always favors truth over performance, because the body keeps score -- you can't intellectually justify away what you physically feel.
              </p>
            </div>
          </details>

          <details data-commentary>
            <summary><strong>Self-Determination Theory (Deci & Ryan)</strong><span class="hint">click to expand</span></summary>
            <div class="detailBody">
              <p>
                The shift from external validation to internal alignment maps directly to the autonomy dimension in Self-Determination Theory.
                SDT research shows that people who act from <i>intrinsic motivation</i> (internal alignment) report greater well-being, better relationships,
                and more sustained energy than those driven by <i>extrinsic motivation</i> (approval, image, reward).
                The "relief" the text describes is well-documented in SDT research as the experience of authentic self-regulation.
              </p>
            </div>
          </details>

          <details data-commentary>
            <summary><strong>Interoception and Embodied Cognition</strong><span class="hint">click to expand</span></summary>
            <div class="detailBody">
              <p>
                The body signals described (chest tightening, energy drain, self-distance) align with research on <i>interoception</i> -- the ability to sense internal body states.
                Studies show that people with higher interoceptive accuracy make more value-aligned decisions, are better at emotional regulation,
                and experience greater self-coherence. The text essentially describes interoceptive awakening: the body was always sending signals; clarity means you finally hear them.
              </p>
            </div>
          </details>

          <details data-commentary>
            <summary><strong>Why this isn't just "being selfish"</strong><span class="hint">click to expand</span></summary>
            <div class="detailBody">
              <p>
                A common objection: "Isn't this just narcissism dressed up as wisdom?" The text anticipates this by distinguishing between
                <b>selectivity</b> and <b>coldness</b>. Being selective means aligning your energy with truth, not withdrawing from all connection.
                The connections that survive clarity are described as <i>deeper</i>, not fewer in quality. You show up more fully, not less.
                What drops away is the performance layer -- the relationships built on mutual pretending. The text frames this as pruning, not cutting.
              </p>
            </div>
          </details>
        </div>
      </section>

      <!-- Section 9: The final integration -->
      <section class="card" aria-label="Final integration">
        <div class="cardHeader">
          <h2>The Final Integration</h2>
          <div class="chip"><b>Thesis:</b> truth feels lighter than the mask</div>
        </div>
        <div class="cardBody">
          <div class="split">
            <div>
              <h3 style="margin:0 0 8px;font-size:14px">Why there is no going back</h3>
              <p class="muted" style="margin:0;line-height:1.6">
                Not because you are trapped by truth, but because truth feels lighter than the performance you were carrying.
                Once something stops giving you anything, you naturally let it go.
                You don't lose anything real. You only stop carrying what was never yours to begin with.
              </p>
              <div class="hr"></div>
              <h3 style="margin:0 0 8px;font-size:14px">What you gain</h3>
              <p class="muted" style="margin:0;line-height:1.6">
                You sleep better. You think more clearly. You recover faster.
                Not because life is easier, but because you are no longer divided.
                You stop fighting yourself. This is the real consequence of clarity: not enlightenment -- <b>relief</b>.
              </p>
            </div>
            <div>
              <div class="viz" style="padding:14px" aria-label="Integration model">
                <svg viewBox="0 0 440 280" role="img" aria-label="Convergence of inner and outer self">
                  <defs>
                    <filter id="intGlow" x="-20%" y="-20%" width="140%" height="140%">
                      <feGaussianBlur stdDeviation="8" result="b"/>
                      <feMerge><feMergeNode in="b"/><feMergeNode in="SourceGraphic"/></feMerge>
                    </filter>
                  </defs>
                  <g filter="url(#intGlow)">
                    <!-- Before: two separate circles -->
                    <text x="110" y="30" text-anchor="middle" fill="var(--faint)" font-size="11" font-weight="700">BEFORE CLARITY</text>
                    <circle cx="80" cy="90" r="35" fill="rgba(255,122,153,.08)" stroke="rgba(255,122,153,.35)" stroke-width="1.5"/>
                    <text x="80" y="88" text-anchor="middle" fill="var(--faint)" font-size="10">outer</text>
                    <text x="80" y="100" text-anchor="middle" fill="var(--faint)" font-size="10">self</text>
                    <circle cx="140" cy="90" r="35" fill="rgba(187,167,255,.08)" stroke="rgba(187,167,255,.35)" stroke-width="1.5"/>
                    <text x="140" y="88" text-anchor="middle" fill="var(--faint)" font-size="10">inner</text>
                    <text x="140" y="100" text-anchor="middle" fill="var(--faint)" font-size="10">self</text>
                    <!-- Gap indicator -->
                    <path d="M90,130 L130,130" stroke="rgba(255,255,255,.2)" stroke-width="1" stroke-dasharray="3 3"/>
                    <text x="110" y="150" text-anchor="middle" fill="var(--faint)" font-size="9">distance = tension</text>

                    <!-- Arrow -->
                    <path d="M200,90 L240,90" stroke="rgba(255,255,255,.25)" stroke-width="1.5" marker-end="url(#arrowRight)"/>
                    <defs>
                      <marker id="arrowRight" viewBox="0 0 10 10" refX="10" refY="5" markerWidth="8" markerHeight="8" orient="auto">
                        <path d="M0,0 L10,5 L0,10" fill="rgba(255,255,255,.3)"/>
                      </marker>
                    </defs>

                    <!-- After: merged circle -->
                    <text x="350" y="30" text-anchor="middle" fill="var(--faint)" font-size="11" font-weight="700">AFTER CLARITY</text>
                    <circle cx="350" cy="90" r="45" fill="rgba(117,240,182,.08)" stroke="rgba(117,240,182,.4)" stroke-width="2"/>
                    <circle cx="350" cy="90" r="25" fill="rgba(117,240,182,.12)" stroke="rgba(117,240,182,.25)" stroke-width="1"/>
                    <text x="350" y="86" text-anchor="middle" fill="var(--good)" font-size="11" font-weight="700">coherent</text>
                    <text x="350" y="100" text-anchor="middle" fill="var(--good)" font-size="11">self</text>
                    <text x="350" y="150" text-anchor="middle" fill="var(--faint)" font-size="9">distance = 0 = relief</text>

                    <!-- Bottom summary -->
                    <rect x="40" y="180" width="360" height="80" rx="14" fill="rgba(255,255,255,.03)" stroke="rgba(255,255,255,.08)"/>
                    <text x="220" y="208" text-anchor="middle" fill="var(--text)" font-size="13" font-weight="700">The Core Equation</text>
                    <text x="220" y="232" text-anchor="middle" fill="var(--muted)" font-size="12">Inner-outer distance = felt tension</text>
                    <text x="220" y="250" text-anchor="middle" fill="var(--muted)" font-size="12">Zero distance = coherence = relief</text>
                  </g>
                </svg>
              </div>
            </div>
          </div>

          <div class="hr"></div>

          <details data-commentary>
            <summary><strong>Final note on this framework</strong><span class="hint">click to expand</span></summary>
            <div class="detailBody">
              <p>
                This infographic distills a psychological narration about self-awareness and authenticity. The core claim --
                that clarity makes pretending impossible because your nervous system learns to reject misalignment --
                is supported by multiple psychological frameworks (Jungian individuation, cognitive dissonance, self-determination theory, interoception research).
              </p>
              <p style="margin-top:8px">
                However, this is a <b>descriptive model</b>, not a prescriptive one. The text doesn't tell you how to gain clarity -- it describes what happens once you have it.
                If you're in the uncomfortable middle (Phase 2-3), the text's message is essentially: the discomfort isn't a sign that something is wrong.
                It's a sign that something is working. Stay with it.
              </p>
            </div>
          </details>
        </div>
      </section>

      <!-- Commentary toggle explainer -->
      <section class="card" aria-label="About commentary mode">
        <div class="cardHeader">
          <h2>About the Commentary Mode</h2>
          <div class="chip">interpretation vs. source</div>
        </div>
        <div class="cardBody">
          <p class="muted" style="margin-top:0">
            Throughout this page, purple callout boxes (marked with <code>data-commentary</code>) offer meta-level analysis:
            what psychological framework applies? What's the deeper implication? What objections might arise?
          </p>
          <p class="muted">
            By default, commentary is <b>visible</b>. Click "Toggle commentary mode" at the top to hide/show all commentary at once.
            This lets you switch between "here's what the text says" and "here's the psychological context around that claim."
          </p>
        </div>
      </section>

    </div>

    <footer>
      <p>
        <b>Credits &amp; notes:</b> This interactive infographic was generated to visualize and analyze a psychological text on self-awareness, pretending, and inner coherence.
        It draws connections to Jungian psychology, cognitive dissonance theory, self-determination theory, and interoception research.
        This is not clinical advice -- it is a thinking tool.
      </p>
      <p style="margin-top:10px">
        The original text explores themes from depth psychology. For further reading: Carl Jung's <i>The Undiscovered Self</i>,
        Festinger's <i>A Theory of Cognitive Dissonance</i>, and Deci & Ryan's work on self-determination theory.
      </p>
    </footer>

  </div>

  <div class="toast" id="toast"></div>

  <script>
    // ──────────────────────────────────────────────────────
    // Energy Cost Model (SVG visualization)
    // ──────────────────────────────────────────────────────
    const claritySlider = document.getElementById('claritySlider');
    const pressureSlider = document.getElementById('pressureSlider');
    const clarityReadout = document.getElementById('clarityReadout');
    const pressureReadout = document.getElementById('pressureReadout');

    function renderEnergy() {
      const clarity = parseInt(claritySlider.value) / 100;
      const pressure = parseInt(pressureSlider.value) / 100;

      clarityReadout.textContent = `${claritySlider.value}%`;
      pressureReadout.textContent = `${pressureSlider.value}%`;

      const W = 980, H = 380;
      const padL = 70, padR = 40, padT = 40, padB = 60;
      const graphW = W - padL - padR;
      const graphH = H - padT - padB;
      const steps = 50;

      // Pretending cost: starts low (hidden cost), rises exponentially with clarity
      // Social pressure raises the baseline "benefit" of pretending at low clarity
      function pretendCost(c) {
        const baseLow = 0.1 + pressure * 0.15;
        const ramp = Math.pow(c, 1.8) * (1.2 + pressure * 0.3);
        return baseLow + ramp;
      }

      // Authenticity cost: starts high (social risk), decreases as clarity builds support
      function authCost(c) {
        const startHigh = 0.6 + pressure * 0.4;
        const decay = startHigh * Math.pow(1 - c, 1.3);
        const floor = 0.08;
        return Math.max(floor, decay);
      }

      let pretendPath = '', coherPath = '';
      let pretendAreaPath = '', coherAreaPath = '';
      let crossX = null, crossY = null;
      let prevDiff = null;

      for (let i = 0; i <= steps; i++) {
        const t = i / steps;
        const x = padL + t * graphW;
        const pc = pretendCost(t);
        const ac = authCost(t);
        const yP = padT + graphH - (pc / 1.8) * graphH;
        const yA = padT + graphH - (ac / 1.8) * graphH;

        const cmd = i === 0 ? 'M' : 'L';
        pretendPath += `${cmd}${x},${yP} `;
        coherPath += `${cmd}${x},${yA} `;

        // Find crossover
        const diff = pc - ac;
        if (prevDiff !== null && prevDiff < 0 && diff >= 0) {
          crossX = x;
          crossY = (yP + yA) / 2;
        }
        prevDiff = diff;
      }

      const baseY = padT + graphH;
      pretendAreaPath = `M${padL},${baseY} ${pretendPath} L${padL + graphW},${baseY} Z`;
      coherAreaPath = `M${padL},${baseY} ${coherPath} L${padL + graphW},${baseY} Z`;

      document.getElementById('pretendCurve').setAttribute('d', pretendPath);
      document.getElementById('coherCurve').setAttribute('d', coherPath);
      document.getElementById('pretendArea').setAttribute('d', pretendAreaPath);
      document.getElementById('coherArea').setAttribute('d', coherAreaPath);

      // Crossover marker
      const crossover = document.getElementById('crossover');
      crossover.innerHTML = '';
      if (crossX) {
        crossover.innerHTML = `
          <line x1="${crossX}" y1="${padT}" x2="${crossX}" y2="${baseY}" stroke="rgba(255,255,255,.18)" stroke-width="1" stroke-dasharray="4 4"/>
          <circle cx="${crossX}" cy="${crossY}" r="6" fill="rgba(255,255,255,.6)" stroke="white" stroke-width="1.5"/>
          <text x="${crossX}" y="${padT - 6}" text-anchor="middle" fill="rgba(255,255,255,.7)" font-size="11" font-weight="700">crossover</text>
        `;
      }

      // Clarity marker
      const markerX = padL + clarity * graphW;
      const markerPc = pretendCost(clarity);
      const markerAc = authCost(clarity);
      const markerPy = padT + graphH - (markerPc / 1.8) * graphH;
      const markerAy = padT + graphH - (markerAc / 1.8) * graphH;

      const clarityMarker = document.getElementById('clarityMarker');
      clarityMarker.innerHTML = `
        <line x1="${markerX}" y1="${padT}" x2="${markerX}" y2="${baseY}" stroke="rgba(187,167,255,.35)" stroke-width="1.5"/>
        <circle cx="${markerX}" cy="${markerPy}" r="5" fill="var(--bad)" stroke="rgba(0,0,0,.4)" stroke-width="1"/>
        <circle cx="${markerX}" cy="${markerAy}" r="5" fill="var(--good)" stroke="rgba(0,0,0,.4)" stroke-width="1"/>
        <text x="${markerX}" y="${baseY + 16}" text-anchor="middle" fill="var(--violet)" font-size="11" font-weight="700">you (${claritySlider.value}%)</text>
      `;

      // Grid lines
      const grid = document.getElementById('energyGrid');
      grid.innerHTML = '';
      for (let i = 0; i <= 10; i++) {
        const x = padL + (i / 10) * graphW;
        const line = document.createElementNS('http://www.w3.org/2000/svg', 'line');
        line.setAttribute('x1', x);
        line.setAttribute('y1', padT);
        line.setAttribute('x2', x);
        line.setAttribute('y2', baseY);
        line.setAttribute('stroke', 'rgba(255,255,255,.05)');
        grid.appendChild(line);
      }
      for (let i = 0; i <= 5; i++) {
        const y = padT + (i / 5) * graphH;
        const line = document.createElementNS('http://www.w3.org/2000/svg', 'line');
        line.setAttribute('x1', padL);
        line.setAttribute('y1', y);
        line.setAttribute('x2', padL + graphW);
        line.setAttribute('y2', y);
        line.setAttribute('stroke', 'rgba(255,255,255,.05)');
        grid.appendChild(line);
      }

      // Insight text
      const insight = document.getElementById('energyInsight');
      if (clarity < 0.25) {
        insight.innerHTML = '<b>Low clarity:</b> Pretending feels easy. The cost is hidden. Authenticity seems risky and socially expensive. This is Phase 1.';
      } else if (clarity < 0.5) {
        insight.innerHTML = '<b>Rising awareness:</b> You\'re starting to feel the cost of pretending. The curves are converging. Discomfort is growing. This is Phase 2.';
      } else if (clarity < 0.75) {
        insight.innerHTML = '<b>Crossover zone:</b> Pretending now costs more energy than being authentic. The point of no return is near or passed. This is Phase 3.';
      } else {
        insight.innerHTML = '<b>High coherence:</b> Authenticity is clearly the path of least resistance. Performance feels loud and exhausting. Relief is setting in. This is Phase 4.';
      }
    }

    claritySlider.addEventListener('input', renderEnergy);
    pressureSlider.addEventListener('input', renderEnergy);
    renderEnergy();

    // ──────────────────────────────────────────────────────
    // Navigation
    // ──────────────────────────────────────────────────────
    document.getElementById('jumpViz').addEventListener('click', () => {
      document.getElementById('viz').scrollIntoView({ behavior: 'smooth', block: 'center' });
    });

    document.getElementById('jumpCheck').addEventListener('click', () => {
      document.getElementById('checkSection').scrollIntoView({ behavior: 'smooth', block: 'start' });
    });

    // ──────────────────────────────────────────────────────
    // Commentary toggle
    // ──────────────────────────────────────────────────────
    let commentaryVisible = true;
    document.getElementById('toggleNotes').addEventListener('click', () => {
      commentaryVisible = !commentaryVisible;
      const items = document.querySelectorAll('[data-commentary]');
      items.forEach(el => {
        el.style.display = commentaryVisible ? '' : 'none';
      });
      showToast(commentaryVisible ? 'Commentary visible' : 'Commentary hidden');
    });

    // ──────────────────────────────────────────────────────
    // Checklist scoring
    // ──────────────────────────────────────────────────────
    document.getElementById('scoreBtn').addEventListener('click', () => {
      const checkboxes = document.querySelectorAll('#checklist input[type="checkbox"]');
      const checked = Array.from(checkboxes).filter(cb => cb.checked).length;
      const total = checkboxes.length;

      let phase = '', msg = '';
      if (checked === 0) {
        phase = 'Phase 1';
        msg = 'You may be in early awareness. The roles still feel natural. Pay attention to subtle moments of hesitation -- that\'s where clarity begins.';
      } else if (checked <= 2) {
        phase = 'Phase 1-2';
        msg = 'First signals are appearing. You\'re beginning to notice the cost of pretending. This is the start of something important.';
      } else if (checked <= 4) {
        phase = 'Phase 2';
        msg = 'Awareness is active. You feel the friction of compromise. The old patterns still exist, but they no longer feel comfortable.';
      } else if (checked <= 6) {
        phase = 'Phase 2-3';
        msg = 'Destabilization is underway. You\'re in the most uncomfortable but most transformative period. The point of no return is close or already passed.';
      } else if (checked <= 7) {
        phase = 'Phase 3-4';
        msg = 'Coherence is forming. Performance is fading. You\'re beginning to experience the relief described in the text.';
      } else {
        phase = 'Phase 4';
        msg = 'Deep coherence. Your inner experience matches your outer behavior. Pretending isn\'t forbidden -- it\'s unnecessary. This is relief.';
      }

      document.getElementById('scoreOut').innerHTML = `<b>${phase} (${checked}/${total} signals):</b> ${msg}`;
      showToast(`${phase} identified`);
    });

    document.getElementById('resetBtn').addEventListener('click', () => {
      const checkboxes = document.querySelectorAll('#checklist input[type="checkbox"]');
      checkboxes.forEach(cb => cb.checked = false);
      document.getElementById('scoreOut').innerHTML = '';
      showToast('Checklist reset');
    });

    // ──────────────────────────────────────────────────────
    // Relationship filter animation on scroll
    // ──────────────────────────────────────────────────────
    let filterAnimated = false;
    function checkFilterScroll() {
      const perfConns = document.getElementById('perfConns');
      const realConns = document.getElementById('realConns');
      if (!perfConns || filterAnimated) return;

      const rect = perfConns.closest('.viz').getBoundingClientRect();
      if (rect.top < window.innerHeight * 0.7) {
        filterAnimated = true;
        // Animate: fade performance connections, strengthen real ones
        let opacity = 1;
        const interval = setInterval(() => {
          opacity -= 0.015;
          if (opacity < 0.15) {
            opacity = 0.15;
            clearInterval(interval);
          }
          perfConns.setAttribute('opacity', opacity.toFixed(2));
        }, 30);
      }
    }
    window.addEventListener('scroll', checkFilterScroll, { passive: true });

    // ──────────────────────────────────────────────────────
    // Toast notification
    // ──────────────────────────────────────────────────────
    function showToast(message) {
      const toast = document.getElementById('toast');
      toast.textContent = message;
      toast.style.display = 'block';
      setTimeout(() => {
        toast.style.display = 'none';
      }, 2000);
    }
  </script>
</body>
</html>
