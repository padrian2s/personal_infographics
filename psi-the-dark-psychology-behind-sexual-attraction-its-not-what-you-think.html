<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>The Dark Psychology Behind Sexual Attraction â€” Jungian Infographic</title>
  <meta name="description" content="Interactive infographic exploring Carl Jung's perspective on sexual attraction, projection, the anima/animus, and the path from unconscious repetition to psychological integration." />
  <style>
    :root{
      --bg: #0b0f17;
      --panel: rgba(255,255,255,.06);
      --panel2: rgba(255,255,255,.085);
      --stroke: rgba(255,255,255,.14);
      --text: rgba(255,255,255,.92);
      --muted: rgba(255,255,255,.70);
      --faint: rgba(255,255,255,.55);
      --good: #75f0b6;
      --warn: #ffd27a;
      --bad: #ff7a99;
      --cyan: #7ad7ff;
      --violet: #bba7ff;
      --orange: #ffb38a;
      --rose: #ff7a99;
      --shadow: 0 16px 60px rgba(0,0,0,.45);
      --shadow2: 0 10px 25px rgba(0,0,0,.35);
      --radius: 18px;
      --radius2: 14px;
      --grid: rgba(255,255,255,.07);
      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      --sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: var(--sans);
      color: var(--text);
      background:
        radial-gradient(1200px 600px at 15% 10%, rgba(187,167,255,.12), transparent 60%),
        radial-gradient(900px 500px at 80% 15%, rgba(255,122,153,.10), transparent 55%),
        radial-gradient(800px 500px at 55% 85%, rgba(255,179,138,.08), transparent 60%),
        linear-gradient(180deg, #070a10, var(--bg));
      overflow-x:hidden;
    }

    a{color:inherit}

    .wrap{max-width:1220px;margin:0 auto;padding:34px 18px 70px}

    /* Header */
    header{
      position: relative;
      padding: 26px 18px 22px;
      border: 1px solid var(--stroke);
      border-radius: var(--radius);
      background: linear-gradient(180deg, rgba(255,255,255,.07), rgba(255,255,255,.03));
      box-shadow: var(--shadow);
      overflow:hidden;
    }
    .headerGrid{
      display:grid;
      grid-template-columns: 1.25fr .75fr;
      gap: 18px;
      align-items: start;
    }
    .kicker{
      display:inline-flex;align-items:center;gap:10px;
      padding:8px 12px;
      border-radius:999px;
      border:1px solid var(--stroke);
      background: rgba(0,0,0,.25);
      font-size: 12px;
      letter-spacing:.12em;
      text-transform: uppercase;
      color: var(--muted);
    }
    .kicker .dot{width:8px;height:8px;border-radius:99px;background: linear-gradient(90deg, var(--violet), var(--rose)); box-shadow: 0 0 22px rgba(187,167,255,.25)}

    h1{margin:14px 0 10px;font-size: clamp(26px, 3.1vw, 44px);line-height:1.04;letter-spacing:-0.02em}
    .subtitle{margin:0 0 14px;color:var(--muted);font-size: 15px;line-height:1.55;max-width:72ch}

    .topStats{
      display:grid;
      grid-template-columns: repeat(2, minmax(0,1fr));
      gap: 12px;
      align-content: start;
    }
    .stat{
      border: 1px solid var(--stroke);
      border-radius: var(--radius2);
      background: rgba(0,0,0,.18);
      padding: 12px 12px 10px;
      box-shadow: var(--shadow2);
      min-height: 84px;
    }
    .stat .label{font-size:12px;color:var(--faint);text-transform:uppercase;letter-spacing:.12em}
    .stat .value{margin-top:7px;font-weight:700;font-size: 18px}
    .stat .note{margin-top:4px;font-size:12px;color:var(--muted)}

    .heroArt{
      position:absolute;inset:-1px -1px auto auto;
      width:min(520px, 55vw);
      height: 220px;
      pointer-events:none;
      opacity:.9;
      mask-image: radial-gradient(240px 180px at 65% 40%, rgba(0,0,0,1), rgba(0,0,0,.0) 70%);
    }

    /* Layout */
    .grid{
      margin-top: 18px;
      display:grid;
      grid-template-columns: 1fr;
      gap: 14px;
    }

    .row{
      display:grid;
      grid-template-columns: 1.05fr .95fr;
      gap: 14px;
    }

    @media (max-width: 960px){
      .headerGrid{grid-template-columns: 1fr}
      .row{grid-template-columns: 1fr}
      .heroArt{height:160px}
    }

    /* Cards */
    .card{
      border: 1px solid var(--stroke);
      border-radius: var(--radius);
      background: rgba(255,255,255,.05);
      box-shadow: var(--shadow2);
      overflow:hidden;
    }
    .cardHeader{
      display:flex;justify-content:space-between;align-items:flex-start;gap: 12px;
      padding: 14px 16px 10px;
      border-bottom: 1px solid rgba(255,255,255,.09);
      background: linear-gradient(180deg, rgba(0,0,0,.18), transparent);
    }
    .cardHeader h2{margin:0;font-size: 16px;letter-spacing:-0.01em}
    .chip{
      display:inline-flex;align-items:center;gap:8px;
      padding:6px 10px;
      border-radius:999px;
      border:1px solid var(--stroke);
      background: rgba(0,0,0,.22);
      color: var(--muted);
      font-size: 12px;
      user-select:none;
      white-space:nowrap;
    }
    .chip b{color: var(--text)}
    .cardBody{padding: 14px 16px 16px}

    .muted{color:var(--muted)}
    .small{font-size:12px;color:var(--muted)}

    .split{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
    }
    @media (max-width: 740px){
      .split{grid-template-columns:1fr}
    }

    /* Pill + tag */
    .pill{
      border: 1px solid rgba(255,255,255,.11);
      border-radius: 999px;
      padding: 10px 12px;
      background: rgba(0,0,0,.18);
      display:flex;align-items:center;justify-content:space-between;gap: 10px;
      min-height: 44px;
    }
    .pill span{font-size: 13px}
    .tag{
      font-size: 11px;
      letter-spacing:.08em;
      text-transform: uppercase;
      padding: 4px 8px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.06);
      color: var(--muted);
      white-space:nowrap;
    }

    /* Diagram area */
    .viz{
      border: 1px solid rgba(255,255,255,.11);
      border-radius: var(--radius2);
      background:
        linear-gradient(180deg, rgba(0,0,0,.18), rgba(0,0,0,.08)),
        repeating-linear-gradient(90deg, transparent, transparent 22px, rgba(255,255,255,.03) 22px, rgba(255,255,255,.03) 23px),
        repeating-linear-gradient(0deg, transparent, transparent 22px, rgba(255,255,255,.03) 22px, rgba(255,255,255,.03) 23px);
      padding: 12px;
      position:relative;
      overflow:hidden;
    }

    svg{display:block;width:100%;height:auto}

    .controls{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
      margin-top: 12px;
    }
    @media (max-width: 740px){
      .controls{grid-template-columns:1fr}
    }

    .control{
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.18);
      border-radius: 14px;
      padding: 10px 12px;
    }
    .control label{display:flex;justify-content:space-between;gap:12px;align-items:center;font-size:12px;color:var(--muted);letter-spacing:.08em;text-transform:uppercase}
    input[type="range"]{width:100%;margin-top:10px;accent-color: var(--violet)}
    .control .readout{font-family:var(--mono);font-size:12px;color:var(--text)}

    .legend{
      display:flex;flex-wrap:wrap;gap:8px;
      margin-top: 10px;
    }
    .legend .key{display:flex;align-items:center;gap:8px;padding:6px 10px;border-radius:999px;border:1px solid rgba(255,255,255,.11);background:rgba(0,0,0,.16);font-size:12px;color:var(--muted)}
    .sw{width:10px;height:10px;border-radius:99px}

    /* Flow */
    .flow{
      display:grid;
      grid-template-columns: 1fr;
      gap: 10px;
    }
    .flowNode{
      border: 1px solid rgba(255,255,255,.12);
      border-radius: 16px;
      background: rgba(0,0,0,.18);
      padding: 12px;
      position: relative;
    }
    .flowNode h3{margin:0 0 6px;font-size: 14px}
    .flowNode p{margin:0;color:var(--muted);font-size: 13px;line-height:1.5}
    .flowNode .meta{margin-top:10px;display:flex;flex-wrap:wrap;gap:8px}
    .badge{font-size:11px;border:1px solid rgba(255,255,255,.12);background:rgba(255,255,255,.05);color:var(--muted);border-radius:999px;padding:5px 9px}

    /* Checklist */
    .checklist{display:grid;gap: 10px}
    .item{
      border:1px solid rgba(255,255,255,.12);
      border-radius: 16px;
      background: rgba(0,0,0,.18);
      padding: 12px;
      display:grid;
      grid-template-columns: 22px 1fr;
      gap: 10px;
      align-items:start;
    }
    .item input{margin-top:3px;accent-color: var(--violet)}
    .item .t{display:flex;justify-content:space-between;gap:12px;align-items:baseline}
    .item .t strong{font-size: 14px}
    .item .t em{font-style:normal;color:var(--muted);font-size:12px}
    .item .d{margin-top:6px;color:var(--muted);font-size: 13px;line-height:1.55}

    /* Risk grid */
    .riskGrid{
      display:grid;
      grid-template-columns: repeat(2, minmax(0,1fr));
      gap: 10px;
    }
    @media (max-width: 640px){
      .riskGrid{grid-template-columns:1fr}
    }

    .risk{
      border:1px solid rgba(255,255,255,.12);
      border-radius: 16px;
      background: rgba(0,0,0,.18);
      padding: 12px;
    }
    .risk .rTop{display:flex;justify-content:space-between;gap:10px;align-items:center}
    .risk strong{font-size: 13px}
    .meter{height: 10px;border-radius:99px;background: rgba(255,255,255,.08);border:1px solid rgba(255,255,255,.10);overflow:hidden;margin-top:10px}
    .meter > i{display:block;height:100%;width:50%;background: linear-gradient(90deg, var(--violet), var(--rose));filter:saturate(1.1)}
    .risk p{margin:8px 0 0;color:var(--muted);font-size: 12px;line-height:1.45}

    /* Commentary */
    details{
      border: 1px solid rgba(255,255,255,.12);
      border-radius: 16px;
      background: rgba(0,0,0,.18);
      padding: 12px;
    }
    details + details{margin-top:10px}
    summary{
      cursor:pointer;
      list-style:none;
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap: 12px;
      user-select:none;
    }
    summary::-webkit-details-marker{display:none}
    summary strong{font-size: 14px}
    summary .hint{font-size:12px;color:var(--muted)}
    .detailBody{margin-top:10px;color:var(--muted);font-size: 13px;line-height:1.6}
    .callout{
      border-left: 3px solid rgba(187,167,255,.7);
      padding: 10px 12px;
      background: rgba(187,167,255,.08);
      border-radius: 14px;
      margin-top: 10px;
      color: rgba(255,255,255,.82);
    }

    /* Phase indicator */
    .phaseTrack{
      display:grid;
      grid-template-columns: repeat(5,1fr);
      gap:6px;
      margin-top:12px;
    }
    @media (max-width: 640px){
      .phaseTrack{grid-template-columns:1fr}
    }
    .phase{
      border:1px solid rgba(255,255,255,.12);
      border-radius:14px;
      background:rgba(0,0,0,.18);
      padding:10px;
      text-align:center;
      position:relative;
      transition: border-color .3s, background .3s;
    }
    .phase.active{
      border-color: rgba(187,167,255,.5);
      background: rgba(187,167,255,.08);
    }
    .phase .phNum{font-size:20px;font-weight:700;color:var(--violet);line-height:1}
    .phase .phLabel{font-size:11px;color:var(--muted);margin-top:4px;text-transform:uppercase;letter-spacing:.06em}

    /* Quote blocks */
    .quote{
      border-left: 3px solid rgba(255,122,153,.6);
      padding: 12px 14px;
      background: rgba(255,122,153,.06);
      border-radius: 14px;
      margin: 12px 0;
      font-style:italic;
      color: rgba(255,255,255,.82);
      font-size: 14px;
      line-height:1.6;
    }
    .quote .attr{font-style:normal;font-size:12px;color:var(--faint);margin-top:6px}

    /* Spectrum bar */
    .spectrum{
      height:12px;
      border-radius:99px;
      background: linear-gradient(90deg, var(--violet), var(--rose), var(--orange));
      border:1px solid rgba(255,255,255,.10);
      position:relative;
      margin:12px 0 4px;
    }
    .spectrumMarker{
      position:absolute;
      top:-4px;
      width:20px;height:20px;
      border-radius:99px;
      background:white;
      border:2px solid var(--violet);
      box-shadow: 0 0 12px rgba(187,167,255,.4);
      transition: left .4s ease;
    }
    .specLabels{display:flex;justify-content:space-between;font-size:11px;color:var(--faint)}

    /* Footer */
    footer{
      margin-top: 16px;
      padding: 14px 16px;
      border: 1px dashed rgba(255,255,255,.16);
      border-radius: var(--radius);
      color: var(--muted);
      font-size: 12px;
      line-height: 1.6;
      background: rgba(0,0,0,.14);
    }

    /* Utility */
    .mono{font-family:var(--mono)}
    .row2{display:grid;grid-template-columns: 1fr 1fr;gap: 12px}
    @media (max-width: 860px){.row2{grid-template-columns:1fr}}

    .hr{
      height: 1px;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,.14), transparent);
      margin: 12px 0;
    }

    .btn{
      appearance:none;border:1px solid rgba(255,255,255,.16);
      background: rgba(0,0,0,.22);
      color: var(--text);
      padding: 10px 12px;
      border-radius: 14px;
      cursor:pointer;
      box-shadow: 0 12px 30px rgba(0,0,0,.25);
      transition: transform .12s ease, border-color .12s ease, background .12s ease;
      font-size: 13px;
    }
    .btn:hover{transform: translateY(-1px);border-color: rgba(255,255,255,.26);background: rgba(255,255,255,.07)}
    .btnRow{display:flex;gap:10px;flex-wrap:wrap;align-items:center}

    .toast{
      position: fixed;
      left: 50%;
      bottom: 18px;
      transform: translateX(-50%);
      background: rgba(10,14,22,.78);
      border: 1px solid rgba(255,255,255,.14);
      color: rgba(255,255,255,.86);
      padding: 10px 12px;
      border-radius: 14px;
      box-shadow: 0 20px 70px rgba(0,0,0,.5);
      font-size: 12px;
      max-width: min(720px, calc(100vw - 24px));
      display:none;
      backdrop-filter: blur(10px);
      z-index:100;
    }

    /* Hallmarks grid */
    .conceptGrid{
      display:grid;
      grid-template-columns: repeat(3, minmax(0,1fr));
      gap: 10px;
    }
    @media (max-width: 980px){
      .conceptGrid{grid-template-columns: repeat(2, minmax(0,1fr))}
    }
    @media (max-width: 560px){
      .conceptGrid{grid-template-columns:1fr}
    }

    /* Animated pulse on SVG elements */
    @keyframes pulse{
      0%,100%{opacity:.6;r:8}
      50%{opacity:1;r:12}
    }
    .pulseCircle{animation: pulse 3s ease-in-out infinite}

    @keyframes floatY{
      0%,100%{transform:translateY(0)}
      50%{transform:translateY(-6px)}
    }
    .floatAnim{animation: floatY 4s ease-in-out infinite}

    /* Print-friendly */
    @media print{
      body{background:white;color:#111}
      header,.card,details{box-shadow:none}
      .toast{display:none !important}
      .callout{border-left-color:#666;background:#f5f5f5;color:#333}
      .quote{border-left-color:#999;background:#f9f5f5;color:#333}
    }
  </style>
</head>
<body>
  <div class="wrap">

    <header>
      <div class="heroArt" aria-hidden="true">
        <svg viewBox="0 0 520 220" role="img">
          <defs>
            <linearGradient id="g1" x1="0" x2="1" y1="0" y2="1">
              <stop offset="0" stop-color="rgba(187,167,255,.55)" />
              <stop offset="1" stop-color="rgba(255,122,153,.55)" />
            </linearGradient>
            <linearGradient id="g2" x1="0" x2="1" y1="1" y2="0">
              <stop offset="0" stop-color="rgba(255,179,138,.45)" />
              <stop offset="1" stop-color="rgba(187,167,255,.35)" />
            </linearGradient>
            <filter id="blurGlow" x="-30%" y="-30%" width="160%" height="160%">
              <feGaussianBlur stdDeviation="14" result="b"/>
              <feColorMatrix in="b" type="matrix" values="1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 18 -7" result="g"/>
              <feMerge>
                <feMergeNode in="g"/>
                <feMergeNode in="SourceGraphic"/>
              </feMerge>
            </filter>
          </defs>
          <g filter="url(#blurGlow)">
            <!-- Two figures approaching, intertwining, then diverging -->
            <path d="M40,180 C80,60 140,30 200,110 C240,160 280,160 320,110 C360,60 420,30 480,180" fill="none" stroke="url(#g1)" stroke-width="10" stroke-linecap="round" opacity=".6" />
            <path d="M40,40 C80,160 140,190 200,110 C240,60 280,60 320,110 C360,160 420,190 480,40" fill="none" stroke="url(#g2)" stroke-width="8" stroke-linecap="round" opacity=".6" />
            <circle cx="200" cy="110" r="10" fill="rgba(255,255,255,.6)" class="pulseCircle" />
            <circle cx="320" cy="110" r="10" fill="rgba(255,255,255,.6)" class="pulseCircle" style="animation-delay:1.5s" />
            <circle cx="260" cy="85" r="6" fill="rgba(255,255,255,.35)" />
          </g>
        </svg>
      </div>

      <div class="headerGrid">
        <div>
          <div class="kicker"><span class="dot"></span> jungian psychology &bull; projection &bull; the unconscious</div>
          <h1>The Dark Psychology Behind Sexual Attraction</h1>
          <p class="subtitle">
            Attraction rarely announces itself politely. It arrives as a pull in the body before the mind catches up.
            Carl Jung believed what grips us emotionally does not come from the conscious mind&mdash;it rises from the <b>unconscious</b>,
            from layers of the psyche formed long before we were capable of choice.
          </p>
          <div class="btnRow">
            <button class="btn" id="jumpCycle">Jump to the projection cycle</button>
            <button class="btn" id="jumpQuiz">Jump to self-assessment</button>
            <button class="btn" id="toggleNotes">Toggle commentary mode</button>
          </div>
        </div>

        <div class="topStats" aria-label="Key claims summarized">
          <div class="stat">
            <div class="label">Core thesis</div>
            <div class="value">Attraction = Projection</div>
            <div class="note">You respond to an inner image, not who they actually are.</div>
          </div>
          <div class="stat">
            <div class="label">What the body seeks</div>
            <div class="value">Familiarity, not health</div>
            <div class="note">The nervous system recognizes what is known, not what is good for you.</div>
          </div>
          <div class="stat">
            <div class="label">The trap</div>
            <div class="value">Intensity =/= Intimacy</div>
            <div class="note">Dopamine rises in the wanting. Calm feels dull. Chaos feels meaningful.</div>
          </div>
          <div class="stat">
            <div class="label">The path out</div>
            <div class="value">Integration, not repetition</div>
            <div class="note">Recognize the projection. Reclaim what was projected. Grow.</div>
          </div>
        </div>
      </div>
    </header>

    <div class="grid">

      <!-- Section 1: What is projection? -->
      <section class="card" aria-label="Projection overview">
        <div class="cardHeader">
          <h2>What is psychological projection?</h2>
          <div class="chip"><b>Jung:</b> the unconscious speaks through others</div>
        </div>
        <div class="cardBody">
          <div class="split">
            <div>
              <p class="muted" style="margin-top:0">
                In Jungian psychology, <b>projection</b> occurs when the psyche places unconscious inner material onto another person.
                You are not responding to who they actually are. You are responding to an <b>inner image</b> that has been activated.
                The person becomes a screen onto which your unconscious projects meaning, longing, and desire.
              </p>
              <div class="quote">
                "When projection is strongest, real knowledge of the other person is weakest. You don't yet see them clearly. You feel them <em>symbolically</em>."
                <div class="attr">-- Jungian perspective</div>
              </div>
              <p class="muted">
                They appear larger than life, charged with meaning, as if they carry something essential that you lack.
                Your body reacts before your mind understands why.
              </p>
              <div class="callout" data-commentary>
                <b>Commentary:</b> This is a radical reframing: what we call "chemistry" is, in this model, the psyche recognizing <em>itself</em> through the other person. The stronger the "chemistry," the more unconscious material is likely being projected. This doesn't mean the feeling is fake -- it means its source is internal, not external.
              </div>
            </div>
            <div>
              <div class="viz" style="padding:14px" aria-label="Projection mechanics">
                <div class="small" style="margin-bottom:10px">How projection works -- the inner image creates the experience:</div>
                <div class="conceptGrid" style="grid-template-columns: 1fr">
                  <div class="pill"><span>You see them</span><span class="tag">conscious</span></div>
                  <div class="pill"><span>Inner image activates</span><span class="tag">unconscious</span></div>
                  <div class="pill"><span>Image is projected onto them</span><span class="tag">projection</span></div>
                  <div class="pill"><span>You feel intense "chemistry"</span><span class="tag">experience</span></div>
                  <div class="pill"><span>You believe it's about <em>them</em></span><span class="tag">illusion</span></div>
                  <div class="pill"><span>It's actually about <em>you</em></span><span class="tag">reality</span></div>
                </div>
                <div class="hr"></div>
                <div class="small">Each step builds on the last. The conscious mind experiences the end result ("chemistry") without seeing the machinery underneath.</div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Section 2: Familiarity trap + Anima/Animus -->
      <section class="row">
        <div class="card" aria-label="Familiarity trap">
          <div class="cardHeader">
            <h2>The familiarity trap</h2>
            <div class="chip">the body remembers what the mind forgot</div>
          </div>
          <div class="cardBody">
            <p class="muted" style="margin-top:0">
              What the body recognizes is not love. It recognizes <b>familiarity</b>. The nervous system does not search for what is healthy.
              It searches for what is <b>known</b>.
            </p>

            <div class="flow" aria-label="Familiarity chain">
              <div class="flowNode">
                <h3>Childhood patterns form</h3>
                <p>Early love was inconsistent, conditional, or required effort to earn. These patterns imprint as emotional "templates."</p>
                <div class="meta"><span class="badge">formative years</span><span class="badge">emotional blueprint</span></div>
              </div>
              <div class="flowNode">
                <h3>Patterns go dormant</h3>
                <p>Old emotional patterns formed in childhood or early relationships lie dormant until someone mirrors them closely enough.</p>
                <div class="meta"><span class="badge">unconscious storage</span><span class="badge">waiting for trigger</span></div>
              </div>
              <div class="flowNode">
                <h3>Someone "fits the template"</h3>
                <p>Intensity feels familiar. Emotional unpredictability feels familiar. Distance mixed with validation feels familiar.</p>
                <div class="meta"><span class="badge">pattern match</span><span class="badge">activation</span></div>
              </div>
              <div class="flowNode">
                <h3>Desire ignites</h3>
                <p>Not because the person is extraordinary, but because they resonate with an <b>unresolved inner pattern</b>. Attraction becomes the psyche's attempt to complete something unfinished.</p>
                <div class="meta"><span class="badge">compulsion</span><span class="badge">repetition drive</span></div>
              </div>
            </div>

            <div class="callout" data-commentary>
              <b>Commentary:</b> This is essentially the Jungian version of "attachment theory." The uncomfortable insight: the people who feel most magnetically attractive may be activating old wounds, not offering genuine compatibility. The pull is real, but its source is historical, not prophetic.
            </div>
          </div>
        </div>

        <div class="card" aria-label="Anima and Animus">
          <div class="cardHeader">
            <h2>Anima & Animus: the inner figure</h2>
            <div class="chip"><b>Jung:</b> the soul-image</div>
          </div>
          <div class="cardBody">
            <p class="muted" style="margin-top:0">
              In Jungian terms, sexual attraction often awakens the <b>anima</b> (in men) or <b>animus</b> (in women) -- the unconscious inner image of the opposite.
              This inner figure carries emotional depth, mystery, vitality, and meaning.
            </p>

            <div class="viz" aria-label="Anima Animus diagram">
              <svg viewBox="0 0 500 280" role="img" aria-label="Anima and Animus inner figure diagram">
                <defs>
                  <linearGradient id="animaGrad" x1="0" x2="1" y1="0" y2="0">
                    <stop offset="0" stop-color="rgba(187,167,255,.4)" />
                    <stop offset="1" stop-color="rgba(255,122,153,.4)" />
                  </linearGradient>
                  <filter id="softGlow" x="-20%" y="-20%" width="140%" height="140%">
                    <feGaussianBlur stdDeviation="6" result="b"/>
                    <feMerge><feMergeNode in="b"/><feMergeNode in="SourceGraphic"/></feMerge>
                  </filter>
                </defs>

                <g filter="url(#softGlow)">
                  <!-- Conscious self - outer circle -->
                  <circle cx="160" cy="140" r="80" fill="none" stroke="rgba(122,215,255,.35)" stroke-width="2" stroke-dasharray="6 4"/>
                  <text x="160" y="80" text-anchor="middle" font-size="12" fill="rgba(122,215,255,.8)" font-weight="700">CONSCIOUS SELF</text>

                  <!-- Inner figure - inner circle -->
                  <circle cx="160" cy="150" r="40" fill="rgba(187,167,255,.1)" stroke="rgba(187,167,255,.5)" stroke-width="2"/>
                  <text x="160" y="146" text-anchor="middle" font-size="11" fill="rgba(187,167,255,.9)" font-weight="700">ANIMA /</text>
                  <text x="160" y="162" text-anchor="middle" font-size="11" fill="rgba(187,167,255,.9)" font-weight="700">ANIMUS</text>

                  <!-- External person -->
                  <circle cx="370" cy="140" r="55" fill="none" stroke="rgba(255,122,153,.35)" stroke-width="2" stroke-dasharray="6 4"/>
                  <text x="370" y="136" text-anchor="middle" font-size="12" fill="rgba(255,122,153,.8)" font-weight="700">EXTERNAL</text>
                  <text x="370" y="152" text-anchor="middle" font-size="12" fill="rgba(255,122,153,.8)" font-weight="700">PERSON</text>

                  <!-- Projection arrow -->
                  <path d="M210,130 C260,90 300,90 335,120" fill="none" stroke="url(#animaGrad)" stroke-width="4" stroke-linecap="round"/>
                  <text x="268" y="88" text-anchor="middle" font-size="10" fill="rgba(255,255,255,.65)">PROJECTION</text>

                  <!-- Resemblance arrow -->
                  <path d="M335,165 C300,195 260,195 210,158" fill="none" stroke="rgba(255,179,138,.3)" stroke-width="3" stroke-linecap="round" stroke-dasharray="4 6"/>
                  <text x="268" y="210" text-anchor="middle" font-size="10" fill="rgba(255,255,255,.55)">RESEMBLANCE TRIGGERS</text>

                  <!-- Labels -->
                  <text x="160" y="238" text-anchor="middle" font-size="10" fill="rgba(255,255,255,.5)">The inner image you carry</text>
                  <text x="370" y="212" text-anchor="middle" font-size="10" fill="rgba(255,255,255,.5)">Becomes a "screen"</text>
                </g>
              </svg>
            </div>

            <p class="muted">
              When someone externally resembles this inner image, desire surges. You feel as if you have encountered something profound, even sacred.
              But you are not relating to them as a real human yet. You are relating to a <b>symbol</b>.
            </p>

            <div class="quote">
              "What you admire, long for, or obsess over is often a disowned part of your own psyche, asking to be lived consciously."
              <div class="attr">-- Jungian perspective</div>
            </div>

            <div class="callout" data-commentary>
              <b>Commentary:</b> The anima/animus concept is one of Jung's most poetic but also most controversial ideas. Modern depth psychology has largely evolved beyond strict gender binaries here, but the core insight remains: we carry internal images of "the other" that profoundly shape who we desire. The projection of this inner figure is what makes certain people feel almost mythical to us.
            </div>
          </div>
        </div>
      </section>

      <!-- Section 3: The Projection Cycle (interactive SVG) -->
      <section class="card" id="cycleCard" aria-label="Projection cycle">
        <div class="cardHeader">
          <h2>The projection cycle: from enchantment to repetition</h2>
          <div class="chip"><b>Pattern:</b> the loop that binds</div>
        </div>
        <div class="cardBody">
          <p class="muted" style="margin-top:0">
            Attraction doesn't just arise and dissolve. It follows a structural pattern. Jung observed that until projection is recognized,
            it repeats -- across relationships, across years, sometimes across a lifetime.
          </p>

          <div class="phaseTrack" id="phaseTrack">
            <div class="phase active" data-phase="0">
              <div class="phNum">1</div>
              <div class="phLabel">Encounter</div>
            </div>
            <div class="phase" data-phase="1">
              <div class="phNum">2</div>
              <div class="phLabel">Idealization</div>
            </div>
            <div class="phase" data-phase="2">
              <div class="phNum">3</div>
              <div class="phLabel">Binding</div>
            </div>
            <div class="phase" data-phase="3">
              <div class="phNum">4</div>
              <div class="phLabel">Collapse</div>
            </div>
            <div class="phase" data-phase="4">
              <div class="phNum">5</div>
              <div class="phLabel">Choice</div>
            </div>
          </div>

          <div class="viz" id="cycleViz" style="margin-top:12px">
            <svg viewBox="0 0 980 340" role="img" aria-label="Projection cycle visualization" id="cycleSvg">
              <defs>
                <linearGradient id="cg1" x1="0" x2="1" y1="0" y2="0">
                  <stop offset="0" stop-color="rgba(187,167,255,.5)" />
                  <stop offset="1" stop-color="rgba(255,122,153,.5)" />
                </linearGradient>
                <linearGradient id="cg2" x1="0" x2="1" y1="0" y2="0">
                  <stop offset="0" stop-color="rgba(255,122,153,.5)" />
                  <stop offset="1" stop-color="rgba(255,210,122,.5)" />
                </linearGradient>
                <linearGradient id="cg3" x1="0" x2="1" y1="0" y2="0">
                  <stop offset="0" stop-color="rgba(255,210,122,.5)" />
                  <stop offset="1" stop-color="rgba(117,240,182,.5)" />
                </linearGradient>
                <filter id="cycleSoft" x="-20%" y="-20%" width="140%" height="140%">
                  <feGaussianBlur stdDeviation="4" result="b"/>
                  <feMerge><feMergeNode in="b"/><feMergeNode in="SourceGraphic"/></feMerge>
                </filter>
              </defs>
              <g filter="url(#cycleSoft)" id="cycleContent">
                <!-- Phase descriptions rendered by JS -->
              </g>
            </svg>

            <div class="legend" aria-label="Legend">
              <div class="key"><span class="sw" style="background: rgba(187,167,255,.9)"></span> Projection intensity</div>
              <div class="key"><span class="sw" style="background: rgba(255,122,153,.9)"></span> Emotional pain</div>
              <div class="key"><span class="sw" style="background: rgba(117,240,182,.9)"></span> Self-awareness</div>
            </div>
          </div>

          <div id="phaseDetail" style="margin-top:12px">
            <!-- filled by JS -->
          </div>

          <div class="callout" data-commentary>
            <b>Commentary:</b> Phase 5 ("Choice") is where Jung's model becomes prescriptive rather than descriptive. He argued that conscious recognition of the projection can break the loop. Most people, however, skip this step and re-enter at Phase 1 with a new person. The cycle isn't about "bad choices" -- it's about the psyche's relentless drive to resolve what remains unconscious.
          </div>
        </div>
      </section>

      <!-- Section 4: Intensity simulator + Dopamine dynamics -->
      <section class="row">
        <div class="card" aria-label="Intensity simulator">
          <div class="cardHeader">
            <h2>The intensity illusion: a simulator</h2>
            <div class="chip">wanting &ne; having</div>
          </div>
          <div class="cardBody">
            <p class="muted" style="margin-top:0">
              Sexual attraction in its darker sense is fueled by <b>anticipation, not fulfillment</b>; by <b>tension, not safety</b>; by <b>longing, not intimacy</b>.
              Dopamine rises in the wanting, not in the having.
            </p>

            <div class="viz" id="intensityViz">
              <svg viewBox="0 0 500 260" id="intensitySvg" role="img" aria-label="Intensity vs availability curve">
                <defs>
                  <linearGradient id="ig1" x1="0" x2="0" y1="0" y2="1">
                    <stop offset="0" stop-color="rgba(255,122,153,.15)"/>
                    <stop offset="1" stop-color="rgba(255,122,153,0)"/>
                  </linearGradient>
                </defs>
                <rect x="0" y="0" width="500" height="260" fill="rgba(0,0,0,.05)"/>
                <!-- Axes -->
                <path d="M50 20 L50 220 L470 220" stroke="rgba(255,255,255,.2)" stroke-width="1.2" fill="none"/>
                <g id="intensityGrid"></g>
                <path id="intensityArea" fill="url(#ig1)" stroke="none"/>
                <path id="intensityCurve" fill="none" stroke="rgba(255,122,153,.9)" stroke-width="2.5" stroke-linecap="round"/>
                <path id="safetyCurve" fill="none" stroke="rgba(117,240,182,.6)" stroke-width="2" stroke-linecap="round" stroke-dasharray="6 4"/>
                <circle id="intensityDot" cx="250" cy="130" r="6" fill="rgba(255,122,153,.9)"/>

                <text x="50" y="14" font-size="12" fill="rgba(255,255,255,.8)" font-weight="700">Felt intensity vs. emotional availability</text>
                <text x="260" y="248" font-size="11" fill="rgba(255,255,255,.5)" text-anchor="middle">Partner's emotional availability</text>
                <text x="14" y="130" font-size="11" fill="rgba(255,255,255,.5)" transform="rotate(-90 14 130)">Felt intensity</text>

                <text x="380" y="50" font-size="10" fill="rgba(255,122,153,.75)">projection-driven</text>
                <text x="380" y="180" font-size="10" fill="rgba(117,240,182,.65)">healthy attraction</text>
              </svg>

              <div class="legend">
                <div class="key"><span class="sw" style="background: rgba(255,122,153,.9)"></span> Projection-based intensity (fades with availability)</div>
                <div class="key"><span class="sw" style="background: rgba(117,240,182,.6)"></span> Healthy attraction (grows with availability)</div>
              </div>
            </div>

            <div class="controls">
              <div class="control">
                <label>
                  <span>Unavailability level</span>
                  <span class="readout" id="unavailReadout">50%</span>
                </label>
                <input id="unavailSlider" type="range" min="0" max="100" value="50" />
                <div class="small" style="margin-top:8px">Higher = more emotionally distant/unavailable partner.</div>
              </div>
              <div class="control">
                <label>
                  <span>Self-awareness</span>
                  <span class="readout" id="awarenessReadout">20%</span>
                </label>
                <input id="awarenessSlider" type="range" min="0" max="100" value="20" />
                <div class="small" style="margin-top:8px">Higher = more recognized projection (softens the intensity).</div>
              </div>
            </div>

            <div class="callout" data-commentary>
              <b>Commentary:</b> This simulator illustrates the paradox: projection-based attraction is <em>inversely</em> related to availability. The more the person pulls away, the stronger the pull. This is fundamentally different from healthy attraction, which deepens with safety and knowledge. The awareness slider models Jung's key insight: once you <em>see</em> the projection, it begins to lose its grip.
            </div>
          </div>
        </div>

        <div class="card" aria-label="Dopamine dynamics">
          <div class="cardHeader">
            <h2>Why chaos feels meaningful</h2>
            <div class="chip">arousal vs. anxiety</div>
          </div>
          <div class="cardBody">
            <p class="muted" style="margin-top:0">
              The body cannot easily distinguish between excitement and anxiety. Both raise the heart rate. Both sharpen focus. Both create intensity.
              When attraction is rooted in unconscious projection, <b>arousal and fear blend together</b>.
            </p>

            <div class="riskGrid" aria-label="Misattribution effects">
              <div class="risk">
                <div class="rTop"><strong>A delayed reply</strong><span class="badge">significance</span></div>
                <div class="meter"><i style="width:70%"></i></div>
                <p>The silence feels heavy with meaning. Your mind fills the gap with fantasy and fear.</p>
              </div>
              <div class="risk">
                <div class="rTop"><strong>A brief touch</strong><span class="badge">electric</span></div>
                <div class="meter"><i style="width:80%"></i></div>
                <p>Physical contact carries disproportionate weight because the inner image amplifies everything.</p>
              </div>
              <div class="risk">
                <div class="rTop"><strong>A moment of attention</strong><span class="badge">intoxicating</span></div>
                <div class="meter"><i style="width:75%"></i></div>
                <p>Intermittent reinforcement -- the most addictive pattern the nervous system knows.</p>
              </div>
              <div class="risk">
                <div class="rTop"><strong>Their withdrawal</strong><span class="badge">devastating</span></div>
                <div class="meter"><i style="width:90%"></i></div>
                <p>Rejection doesn't feel like losing a person. It feels like losing a part of your own psyche.</p>
              </div>
            </div>

            <div class="hr"></div>

            <div class="quote">
              "Calm feels dull. Stability feels empty. Chaos feels meaningful. This is how attraction becomes addictive."
            </div>

            <p class="muted">
              The result feels powerful, consuming, and deeply personal. But it isn't personal at all. It is <b>structural</b>.
              Jung believed that until projection is recognized, we remain possessed by it. The desire feels uncontrollable.
              But what is really happening is that your unconscious has taken the lead. And it does not care about outcomes. It only cares about expression.
            </p>

            <div class="callout" data-commentary>
              <b>Commentary:</b> The "misattribution of arousal" is well-documented in modern psychology (Dutton & Aron's famous bridge experiment, 1974). Jung anticipated this insight: the nervous system conflates physiological activation with emotional significance. The person who makes you anxious <em>feels</em> more important than the person who makes you calm -- but that says more about your nervous system than about them.
            </div>
          </div>
        </div>
      </section>

      <!-- Section 5: Identity reorganization -->
      <section class="card" aria-label="Identity reorganization">
        <div class="cardHeader">
          <h2>How projection restructures your identity</h2>
          <div class="chip">when you orbit another person</div>
        </div>
        <div class="cardBody">
          <div class="split">
            <div>
              <p class="muted" style="margin-top:0">
                When projection is active, you don't just desire the other person. You <b>reorganize yourself around them</b>.
                Your mood depends on their presence. Your sense of worth rises and falls with their attention.
                Without realizing it, your inner balance is handed over to something outside you.
              </p>

              <div class="viz" aria-label="Identity orbit diagram">
                <svg viewBox="0 0 420 300" role="img" aria-label="Self orbiting the projected figure" id="orbitSvg">
                  <defs>
                    <filter id="orbitGlow" x="-30%" y="-30%" width="160%" height="160%">
                      <feGaussianBlur stdDeviation="8" result="b"/>
                      <feMerge><feMergeNode in="b"/><feMergeNode in="SourceGraphic"/></feMerge>
                    </filter>
                    <radialGradient id="orbitRg" cx="50%" cy="50%" r="50%">
                      <stop offset="0" stop-color="rgba(255,122,153,.15)"/>
                      <stop offset="1" stop-color="rgba(255,122,153,0)"/>
                    </radialGradient>
                  </defs>
                  <g filter="url(#orbitGlow)">
                    <!-- Central figure (the projected image) -->
                    <circle cx="210" cy="150" r="90" fill="url(#orbitRg)" stroke="none"/>
                    <circle cx="210" cy="150" r="36" fill="rgba(255,122,153,.12)" stroke="rgba(255,122,153,.4)" stroke-width="2"/>
                    <text x="210" y="146" text-anchor="middle" font-size="10" fill="rgba(255,122,153,.9)" font-weight="700">PROJECTED</text>
                    <text x="210" y="160" text-anchor="middle" font-size="10" fill="rgba(255,122,153,.9)" font-weight="700">IMAGE</text>

                    <!-- Orbit path -->
                    <ellipse cx="210" cy="150" rx="120" ry="100" fill="none" stroke="rgba(255,255,255,.1)" stroke-width="1" stroke-dasharray="4 6"/>

                    <!-- Self (orbiting) -->
                    <g id="orbitSelf">
                      <circle cx="330" cy="150" r="18" fill="rgba(122,215,255,.12)" stroke="rgba(122,215,255,.5)" stroke-width="2"/>
                      <text x="330" y="153" text-anchor="middle" font-size="9" fill="rgba(122,215,255,.9)" font-weight="700">SELF</text>
                    </g>

                    <!-- Labels -->
                    <text x="210" y="268" text-anchor="middle" font-size="10" fill="rgba(255,255,255,.45)">Your identity begins to orbit the image</text>
                    <text x="210" y="284" text-anchor="middle" font-size="10" fill="rgba(255,255,255,.35)">Thoughts loop. Fantasies repeat. Worth depends on their gaze.</text>
                  </g>
                </svg>
              </div>
            </div>
            <div>
              <h3 style="margin:0 0 8px;font-size:14px">What this feels like from the inside:</h3>

              <div class="flow">
                <div class="flowNode">
                  <h3>Thoughts loop</h3>
                  <p>The person becomes a reference point. Not because they are consciously chosen, but because the unconscious has elevated them into a symbol of meaning.</p>
                  <div class="meta"><span class="badge">rumination</span><span class="badge">obsession</span></div>
                </div>
                <div class="flowNode">
                  <h3>Rejection = psychic death</h3>
                  <p>It doesn't feel like losing a person. It feels like losing a part of your own psyche. The anxiety spikes. You replay moments, words, and expressions.</p>
                  <div class="meta"><span class="badge">identity threat</span><span class="badge">panic</span></div>
                </div>
                <div class="flowNode">
                  <h3>The chase to restore</h3>
                  <p>You seek contact. You seek reassurance. Or you move on quickly, searching for another person who can carry the projection instead.</p>
                  <div class="meta"><span class="badge">compulsion</span><span class="badge">cycle restarts</span></div>
                </div>
              </div>

              <div class="quote">
                "Jung warned that symbols carry enormous psychological power. When a person becomes symbolic, they no longer function as a human equal. They become a carrier of significance."
              </div>

              <div class="callout" data-commentary>
                <b>Commentary:</b> This is perhaps the most painful insight in the entire framework. The person you are obsessing over may not be extraordinary at all. What is extraordinary is the <em>inner material</em> they have activated. The grief of losing them is real, but it is the grief of losing contact with a part of <em>yourself</em>, not of losing them specifically.
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Section 6: Self-assessment quiz -->
      <section class="row" id="quizSection">
        <div class="card" aria-label="Projection self-assessment">
          <div class="cardHeader">
            <h2>Am I projecting? Self-assessment</h2>
            <div class="chip">honest inquiry</div>
          </div>
          <div class="cardBody">
            <p class="muted" style="margin-top:0">
              Think about the person you feel most drawn to right now. Answer honestly. This is not a diagnostic tool --
              it is a framework for self-reflection, based on the Jungian patterns described above.
            </p>

            <div class="checklist" id="projectionChecklist">
              <div class="item">
                <input type="checkbox" />
                <div>
                  <div class="t"><strong>They feel "larger than life"</strong><em>idealization</em></div>
                  <div class="d">You experience them as uniquely special, almost mythical, charged with significance beyond what you actually know about them.</div>
                </div>
              </div>
              <div class="item">
                <input type="checkbox" />
                <div>
                  <div class="t"><strong>Attraction sharpens when they withdraw</strong><em>absence amplifies</em></div>
                  <div class="d">Their distance makes the pull stronger, not weaker. You think about them more when they are unavailable.</div>
                </div>
              </div>
              <div class="item">
                <input type="checkbox" />
                <div>
                  <div class="t"><strong>Small gestures carry enormous weight</strong><em>overread signals</em></div>
                  <div class="d">A brief text, a glance, a touch -- these feel electrically significant. You read meaning into things others wouldn't notice.</div>
                </div>
              </div>
              <div class="item">
                <input type="checkbox" />
                <div>
                  <div class="t"><strong>Your mood depends on their attention</strong><em>external regulation</em></div>
                  <div class="d">When they give attention, you feel complete. When they withdraw, you feel hollow. Your emotional baseline is set by them.</div>
                </div>
              </div>
              <div class="item">
                <input type="checkbox" />
                <div>
                  <div class="t"><strong>You know they're "wrong" but can't stop</strong><em>logic vs. compulsion</em></div>
                  <div class="d">Rationally, you can see this doesn't make sense. But the pull overrides reason. Logic and desire are operating in different layers.</div>
                </div>
              </div>
              <div class="item">
                <input type="checkbox" />
                <div>
                  <div class="t"><strong>This pattern has happened before</strong><em>repetition</em></div>
                  <div class="d">The type of person, the emotional dynamic, the intensity -- you have been here before, with someone else. The names change but the structure stays.</div>
                </div>
              </div>
              <div class="item">
                <input type="checkbox" />
                <div>
                  <div class="t"><strong>Calm people feel "boring"</strong><em>misidentification</em></div>
                  <div class="d">Emotionally available, stable people don't activate the same pull. Safety registers as flatness instead of foundation.</div>
                </div>
              </div>
              <div class="item">
                <input type="checkbox" />
                <div>
                  <div class="t"><strong>You feel they carry something you lack</strong><em>projection core</em></div>
                  <div class="d">They seem to embody a quality -- confidence, mystery, freedom, depth -- that you feel missing in yourself. You need them to feel whole.</div>
                </div>
              </div>
            </div>

            <div class="hr"></div>
            <div class="btnRow">
              <button class="btn" id="projScoreBtn">Calculate projection score</button>
              <button class="btn" id="projResetBtn">Reset</button>
            </div>
            <div id="projScoreOut" style="margin-top:10px"></div>
          </div>
        </div>

        <div class="card" aria-label="Integration path">
          <div class="cardHeader">
            <h2>The path to integration</h2>
            <div class="chip"><b>Jung:</b> reclaim what was projected</div>
          </div>
          <div class="cardBody">
            <p class="muted" style="margin-top:0">
              Jung believed that every powerful attraction contains a hidden invitation -- not to merge with another
              but to <b>integrate what was projected</b>. What you admire, long for, or obsess over is a disowned part
              of your own psyche, asking to be lived consciously.
            </p>

            <div class="flow">
              <div class="flowNode" style="border-color: rgba(255,122,153,.3)">
                <h3 style="color:var(--rose)">Before: attraction enslaves</h3>
                <p>Projection is invisible. Desire feels like fate. You chase intensity, confuse activation with intimacy, obsession with depth. The cycle repeats.</p>
                <div class="meta"><span class="badge">unconscious</span><span class="badge">compulsive</span><span class="badge">repeating</span></div>
              </div>
              <div class="flowNode" style="border-color: rgba(255,210,122,.3)">
                <h3 style="color:var(--warn)">During: the projection cracks</h3>
                <p>Reality intrudes. The person becomes fully known. The intensity collapses. What felt like destiny feels ordinary. This is the most painful but necessary moment.</p>
                <div class="meta"><span class="badge">disillusionment</span><span class="badge">grief</span><span class="badge">opportunity</span></div>
              </div>
              <div class="flowNode" style="border-color: rgba(117,240,182,.3)">
                <h3 style="color:var(--good)">After: attraction becomes a doorway</h3>
                <p>You separate what belongs to the other from what belongs to you. The spell weakens. You begin to live the projected qualities yourself. Real relationship becomes possible.</p>
                <div class="meta"><span class="badge">conscious</span><span class="badge">integration</span><span class="badge">wholeness</span></div>
              </div>
            </div>

            <div class="hr"></div>

            <h3 style="margin:0 0 8px;font-size:14px">The spectrum of awareness:</h3>
            <div class="spectrum">
              <div class="spectrumMarker" id="awarenessMarker" style="left: calc(20% - 10px)"></div>
            </div>
            <div class="specLabels">
              <span>Fully unconscious (possessed by projection)</span>
              <span>Fully conscious (projection integrated)</span>
            </div>
            <div class="small" style="margin-top:8px">Move the "Self-awareness" slider above to shift this marker. As awareness grows, the projection loosens -- it doesn't vanish overnight, but the spell weakens.</div>

            <div class="hr"></div>

            <div class="quote">
              "What we do not bring into awareness returns as fate. Sexual attraction is one of the most powerful places where this happens."
              <div class="attr">-- Carl Jung (paraphrased)</div>
            </div>

            <div class="callout" data-commentary>
              <b>Commentary:</b> Integration doesn't mean killing desire or becoming detached. It means that desire stops being a compulsive, unconscious force and becomes a <em>conscious</em> one. You can still feel attraction deeply, but you no longer confuse the projected image with the real person. You no longer need them to complete you, because you have begun completing yourself.
            </div>
          </div>
        </div>
      </section>

      <!-- Section 7: Summary + key questions -->
      <section class="card" aria-label="Takeaways">
        <div class="cardHeader">
          <h2>The thesis, distilled</h2>
          <div class="chip"><b>Thesis:</b> see the pattern, break the loop</div>
        </div>
        <div class="cardBody">
          <div class="split">
            <div>
              <h3 style="margin:0 0 8px;font-size:14px">1) Attraction is not choosing. It is being chosen.</h3>
              <p class="muted" style="margin:0;line-height:1.6">
                Parts of you that have never been fully seen are doing the choosing. When desire grips you, it is asking whether this person
                can carry your unconscious material -- the image, the longing, the unresolved emotion that wants expression.
              </p>
              <div class="hr"></div>
              <h3 style="margin:0 0 8px;font-size:14px">2) Projection is not failure. It is an invitation.</h3>
              <p class="muted" style="margin:0;line-height:1.6">
                Every powerful attraction contains a hidden message: something in you wants to be lived consciously.
                The person you are drawn to mirrors an unlived part of yourself. The invitation is to claim it back.
              </p>
            </div>
            <div>
              <h3 style="margin:0 0 8px;font-size:14px">3) The loop breaks with awareness, not willpower.</h3>
              <p class="muted" style="margin:0;line-height:1.6">
                You cannot white-knuckle your way out of projection. But you can recognize it. And recognition changes the relationship to the feeling.
                The intensity doesn't disappear overnight, but it loosens. The spell weakens.
              </p>
              <div class="hr"></div>
              <h3 style="margin:0 0 8px;font-size:14px">The question to sit with:</h3>
              <div class="quote" style="margin-top:8px">
                "Are you attracted to who they are, or to what they awaken in you?"
              </div>
            </div>
          </div>

          <div class="hr"></div>

          <details data-commentary>
            <summary><strong>Final note on the Jungian framework</strong><span class="hint">click to expand</span></summary>
            <div class="detailBody">
              <p>
                Jung's model of projection, anima/animus, and the unconscious is not scientific in the modern empirical sense.
                It is a <b>depth-psychological framework</b> -- closer to a map than a measurement. Its value lies not in
                predictive precision but in its capacity to illuminate patterns that are otherwise invisible. If you found yourself
                recognizing something here, that recognition is the beginning of the work. Not the end.
              </p>
              <p style="margin-top:8px">
                Modern attachment theory, neurobiological models of desire, and relational psychotherapy have all, in their own ways,
                confirmed many of Jung's core intuitions: that early patterns shape adult desire, that intensity often masks anxiety,
                and that consciousness -- simply seeing clearly -- is itself transformative.
              </p>
            </div>
          </details>
        </div>
      </section>

      <!-- Commentary toggle explainer -->
      <section class="card" aria-label="About commentary mode">
        <div class="cardHeader">
          <h2>About the commentary mode</h2>
          <div class="chip">interpretation vs. content</div>
        </div>
        <div class="cardBody">
          <p class="muted" style="margin-top:0">
            Throughout this page, purple callout boxes (marked with <code>data-commentary</code>) offer meta-level commentary:
            how strong is the claim? What alternative framings exist? What does modern psychology say about these Jungian ideas?
          </p>
          <p class="muted">
            By default, commentary is <b>visible</b>. Click "Toggle commentary mode" at the top to hide/show all commentary boxes at once.
            This lets you switch between "here's what Jung's framework says" and "here's a critical take on that claim."
          </p>
        </div>
      </section>

    </div>

    <footer>
      <p>
        <b>Credits & disclaimers:</b> This interactive infographic was generated to translate a narration about Jung's perspective on sexual attraction, projection, and the unconscious.
        It is not clinical advice. Visualizations, simulators, and commentary are conceptual tools to help you think about the ideas, not substitutes for therapy or professional guidance.
      </p>
      <p style="margin-top:10px">
        For deeper exploration: read Jung's <em>Aion</em>, <em>The Relations Between the Ego and the Unconscious</em>, and works on projection by Marie-Louise von Franz.
      </p>
    </footer>

  </div>

  <div class="toast" id="toast"></div>

  <script>
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // Phase cycle data + rendering
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    const phases = [
      {
        title: "Phase 1: Encounter",
        desc: "Someone activates the inner image. One glance, one tone of voice, one moment of distance, and something tightens. Your heart speeds up. Your thoughts narrow. The person begins to feel important far beyond what you actually know about them.",
        projection: 0.3,
        pain: 0.1,
        awareness: 0.05,
        color: "rgba(187,167,255,.9)"
      },
      {
        title: "Phase 2: Idealization",
        desc: "Projection deepens. They appear larger than life. You feel as if you've encountered something profound, even sacred. Small gestures carry enormous weight. Desire turns into a mission. The less you know, the more your psyche supplies.",
        projection: 0.9,
        pain: 0.3,
        awareness: 0.05,
        color: "rgba(187,167,255,.9)"
      },
      {
        title: "Phase 3: Binding",
        desc: "Your identity reorganizes around the image. Thoughts loop. Fantasies repeat. Your mood depends on their presence. Your worth depends on their attention. The person becomes symbolic -- a carrier of significance, not a human equal.",
        projection: 1.0,
        pain: 0.6,
        awareness: 0.1,
        color: "rgba(255,210,122,.9)"
      },
      {
        title: "Phase 4: Collapse",
        desc: "Reality intrudes. The person becomes fully known. Projection begins to crack. What felt like destiny begins to feel ordinary. What felt irresistible begins to feel human. The unconscious material has nowhere else to go.",
        projection: 0.5,
        pain: 1.0,
        awareness: 0.4,
        color: "rgba(255,122,153,.9)"
      },
      {
        title: "Phase 5: Choice",
        desc: "Two paths: (A) Rush to restore the feeling -- chase contact, seek reassurance, or find a new person to carry the projection. The cycle restarts. (B) Recognize the projection. Reclaim what was projected. Begin integration. Real relationship becomes possible.",
        projection: 0.2,
        pain: 0.5,
        awareness: 0.8,
        color: "rgba(117,240,182,.9)"
      }
    ];

    let currentPhase = 0;

    function renderCycle() {
      const svg = document.getElementById('cycleSvg');
      const content = document.getElementById('cycleContent');
      content.innerHTML = '';

      const W = 980, H = 340;
      const barW = 140, barGap = 30;
      const startX = 80;

      phases.forEach((p, i) => {
        const x = startX + i * (barW + barGap);
        const isActive = i === currentPhase;
        const opacity = isActive ? 1 : 0.35;

        // Projection bar
        const projH = p.projection * 180;
        const rect1 = document.createElementNS('http://www.w3.org/2000/svg', 'rect');
        rect1.setAttribute('x', x);
        rect1.setAttribute('y', 280 - projH);
        rect1.setAttribute('width', barW * 0.3);
        rect1.setAttribute('height', projH);
        rect1.setAttribute('rx', 6);
        rect1.setAttribute('fill', `rgba(187,167,255,${0.5 * opacity})`);
        rect1.setAttribute('stroke', `rgba(187,167,255,${0.3 * opacity})`);
        content.appendChild(rect1);

        // Pain bar
        const painH = p.pain * 180;
        const rect2 = document.createElementNS('http://www.w3.org/2000/svg', 'rect');
        rect2.setAttribute('x', x + barW * 0.35);
        rect2.setAttribute('y', 280 - painH);
        rect2.setAttribute('width', barW * 0.3);
        rect2.setAttribute('height', painH);
        rect2.setAttribute('rx', 6);
        rect2.setAttribute('fill', `rgba(255,122,153,${0.5 * opacity})`);
        rect2.setAttribute('stroke', `rgba(255,122,153,${0.3 * opacity})`);
        content.appendChild(rect2);

        // Awareness bar
        const awareH = p.awareness * 180;
        const rect3 = document.createElementNS('http://www.w3.org/2000/svg', 'rect');
        rect3.setAttribute('x', x + barW * 0.7);
        rect3.setAttribute('y', 280 - awareH);
        rect3.setAttribute('width', barW * 0.3);
        rect3.setAttribute('height', awareH);
        rect3.setAttribute('rx', 6);
        rect3.setAttribute('fill', `rgba(117,240,182,${0.5 * opacity})`);
        rect3.setAttribute('stroke', `rgba(117,240,182,${0.3 * opacity})`);
        content.appendChild(rect3);

        // Phase label
        const label = document.createElementNS('http://www.w3.org/2000/svg', 'text');
        label.setAttribute('x', x + barW / 2);
        label.setAttribute('y', 305);
        label.setAttribute('text-anchor', 'middle');
        label.setAttribute('font-size', '11');
        label.setAttribute('fill', isActive ? 'rgba(255,255,255,.9)' : 'rgba(255,255,255,.4)');
        label.setAttribute('font-weight', isActive ? '700' : '400');
        label.textContent = `Phase ${i + 1}`;
        content.appendChild(label);

        // Connecting arrow
        if (i < phases.length - 1) {
          const arrow = document.createElementNS('http://www.w3.org/2000/svg', 'path');
          const ax = x + barW + 4;
          const bx = ax + barGap - 8;
          arrow.setAttribute('d', `M${ax},200 L${bx},200`);
          arrow.setAttribute('stroke', 'rgba(255,255,255,.15)');
          arrow.setAttribute('stroke-width', '2');
          arrow.setAttribute('marker-end', '');
          content.appendChild(arrow);

          const arrowHead = document.createElementNS('http://www.w3.org/2000/svg', 'polygon');
          arrowHead.setAttribute('points', `${bx},196 ${bx + 8},200 ${bx},204`);
          arrowHead.setAttribute('fill', 'rgba(255,255,255,.15)');
          content.appendChild(arrowHead);
        }
      });

      // Baseline
      const baseline = document.createElementNS('http://www.w3.org/2000/svg', 'line');
      baseline.setAttribute('x1', startX - 10);
      baseline.setAttribute('y1', 280);
      baseline.setAttribute('x2', startX + 5 * (barW + barGap) - barGap + 10);
      baseline.setAttribute('y2', 280);
      baseline.setAttribute('stroke', 'rgba(255,255,255,.12)');
      baseline.setAttribute('stroke-width', '1');
      content.appendChild(baseline);

      // Title
      const title = document.createElementNS('http://www.w3.org/2000/svg', 'text');
      title.setAttribute('x', startX);
      title.setAttribute('y', 30);
      title.setAttribute('font-size', '13');
      title.setAttribute('fill', 'rgba(255,255,255,.85)');
      title.setAttribute('font-weight', '700');
      title.textContent = 'Projection intensity, emotional pain, and self-awareness across the cycle';
      content.appendChild(title);

      // Y-axis labels
      ['Low','Med','High'].forEach((lbl, li) => {
        const yt = document.createElementNS('http://www.w3.org/2000/svg', 'text');
        yt.setAttribute('x', startX - 14);
        yt.setAttribute('y', 280 - li * 90);
        yt.setAttribute('text-anchor', 'end');
        yt.setAttribute('font-size', '10');
        yt.setAttribute('fill', 'rgba(255,255,255,.35)');
        yt.textContent = lbl;
        content.appendChild(yt);
      });

      // Repetition loop arrow (from phase 5 back to phase 1)
      const loopPath = document.createElementNS('http://www.w3.org/2000/svg', 'path');
      const lastX = startX + 4 * (barW + barGap) + barW + 10;
      const firstX = startX - 10;
      loopPath.setAttribute('d', `M${lastX},220 C${lastX + 40},220 ${lastX + 40},330 ${(firstX + lastX)/2},330 C${firstX - 40},330 ${firstX - 40},220 ${firstX},220`);
      loopPath.setAttribute('fill', 'none');
      loopPath.setAttribute('stroke', 'rgba(255,122,153,.2)');
      loopPath.setAttribute('stroke-width', '2');
      loopPath.setAttribute('stroke-dasharray', '6 4');
      content.appendChild(loopPath);

      const loopLabel = document.createElementNS('http://www.w3.org/2000/svg', 'text');
      loopLabel.setAttribute('x', (firstX + lastX) / 2);
      loopLabel.setAttribute('y', 328);
      loopLabel.setAttribute('text-anchor', 'middle');
      loopLabel.setAttribute('font-size', '10');
      loopLabel.setAttribute('fill', 'rgba(255,122,153,.5)');
      loopLabel.textContent = 'repetition loop (if projection is not recognized)';
      content.appendChild(loopLabel);

      // Phase detail text
      const detail = document.getElementById('phaseDetail');
      const p = phases[currentPhase];
      detail.innerHTML = `
        <div class="flowNode" style="border-color: ${p.color.replace('.9)', '.3)')}">
          <h3 style="color: ${p.color}">${p.title}</h3>
          <p>${p.desc}</p>
        </div>
      `;

      // Phase track active state
      document.querySelectorAll('#phaseTrack .phase').forEach((el, i) => {
        el.classList.toggle('active', i === currentPhase);
      });
    }

    document.querySelectorAll('#phaseTrack .phase').forEach(el => {
      el.addEventListener('click', () => {
        currentPhase = parseInt(el.dataset.phase);
        renderCycle();
      });
    });

    renderCycle();

    // Auto-advance phases
    let cycleInterval = null;
    function startCycleAuto() {
      cycleInterval = setInterval(() => {
        currentPhase = (currentPhase + 1) % phases.length;
        renderCycle();
      }, 4000);
    }

    document.getElementById('cycleCard').addEventListener('mouseenter', () => {
      if (cycleInterval) { clearInterval(cycleInterval); cycleInterval = null; }
    });
    document.getElementById('cycleCard').addEventListener('mouseleave', () => {
      if (!cycleInterval) startCycleAuto();
    });

    startCycleAuto();

    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // Intensity Simulator
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    const unavailSlider = document.getElementById('unavailSlider');
    const awarenessSlider = document.getElementById('awarenessSlider');
    const unavailReadout = document.getElementById('unavailReadout');
    const awarenessReadout = document.getElementById('awarenessReadout');

    function renderIntensity() {
      const unavail = parseInt(unavailSlider.value) / 100;
      const awareness = parseInt(awarenessSlider.value) / 100;
      unavailReadout.textContent = `${unavailSlider.value}%`;
      awarenessReadout.textContent = `${awarenessSlider.value}%`;

      const W = 500, H = 260;
      const pL = 50, pR = 470, pT = 30, pB = 220;
      const gW = pR - pL;
      const gH = pB - pT;
      const pts = 50;

      // Grid
      const grid = document.getElementById('intensityGrid');
      grid.innerHTML = '';
      for (let i = 0; i <= 4; i++) {
        const x = pL + (gW / 4) * i;
        const line = document.createElementNS('http://www.w3.org/2000/svg', 'line');
        line.setAttribute('x1', x); line.setAttribute('y1', pT);
        line.setAttribute('x2', x); line.setAttribute('y2', pB);
        line.setAttribute('stroke', 'rgba(255,255,255,.06)'); line.setAttribute('stroke-width', '1');
        grid.appendChild(line);
      }

      // Projection-based intensity curve: peaks when availability is LOW
      let curvePath = '', areaPath = '';
      let safetyPath = '';

      for (let i = 0; i <= pts; i++) {
        const t = i / pts; // 0 (unavailable) to 1 (available)
        const x = pL + t * gW;

        // Projection intensity: high at low availability, drops with availability
        // Awareness reduces the peak
        const peakMod = 1 - awareness * 0.7;
        const projIntensity = peakMod * Math.exp(-3 * t) * (0.3 + 0.7 * unavail);
        const clampedProj = Math.min(1, Math.max(0, projIntensity));
        const yProj = pB - clampedProj * gH;

        // Healthy attraction: grows with availability
        const safetyIntensity = 0.1 + 0.6 * t;
        const ySafety = pB - safetyIntensity * gH;

        const cmd = i === 0 ? 'M' : 'L';
        curvePath += `${cmd}${x},${yProj} `;
        safetyPath += `${cmd}${x},${ySafety} `;
        if (i === 0) areaPath = `M${pL},${pB} L${x},${yProj} `;
        else areaPath += `L${x},${yProj} `;
      }
      areaPath += `L${pR},${pB} Z`;

      document.getElementById('intensityCurve').setAttribute('d', curvePath);
      document.getElementById('intensityArea').setAttribute('d', areaPath);
      document.getElementById('safetyCurve').setAttribute('d', safetyPath);

      // Move the dot to current unavailability position
      const dotT = 1 - unavail; // invert for x-axis (left = unavailable)
      const dotX = pL + dotT * gW;
      const peakMod = 1 - awareness * 0.7;
      const dotIntensity = Math.min(1, peakMod * Math.exp(-3 * dotT) * (0.3 + 0.7 * unavail));
      const dotY = pB - dotIntensity * gH;
      document.getElementById('intensityDot').setAttribute('cx', dotX);
      document.getElementById('intensityDot').setAttribute('cy', dotY);

      // Update the awareness spectrum marker
      const marker = document.getElementById('awarenessMarker');
      marker.style.left = `calc(${awareness * 100}% - 10px)`;
    }

    unavailSlider.addEventListener('input', renderIntensity);
    awarenessSlider.addEventListener('input', renderIntensity);
    renderIntensity();

    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // Orbit animation
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    let orbitAngle = 0;
    function animateOrbit() {
      orbitAngle += 0.008;
      const cx = 210, cy = 150, rx = 120, ry = 100;
      const x = cx + rx * Math.cos(orbitAngle);
      const y = cy + ry * Math.sin(orbitAngle);
      const selfGroup = document.getElementById('orbitSelf');
      if (selfGroup) {
        const circle = selfGroup.querySelector('circle');
        const text = selfGroup.querySelector('text');
        if (circle && text) {
          circle.setAttribute('cx', x);
          circle.setAttribute('cy', y);
          text.setAttribute('x', x);
          text.setAttribute('y', y + 3);
        }
      }
      requestAnimationFrame(animateOrbit);
    }
    animateOrbit();

    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // Navigation buttons
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    document.getElementById('jumpCycle').addEventListener('click', () => {
      document.getElementById('cycleCard').scrollIntoView({ behavior: 'smooth', block: 'center' });
    });

    document.getElementById('jumpQuiz').addEventListener('click', () => {
      document.getElementById('quizSection').scrollIntoView({ behavior: 'smooth', block: 'start' });
    });

    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // Commentary toggle
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    let commentaryVisible = true;
    document.getElementById('toggleNotes').addEventListener('click', () => {
      commentaryVisible = !commentaryVisible;
      const items = document.querySelectorAll('[data-commentary]');
      items.forEach(el => {
        el.style.display = commentaryVisible ? '' : 'none';
      });
      showToast(commentaryVisible ? 'Commentary visible' : 'Commentary hidden');
    });

    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // Projection self-assessment scoring
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    document.getElementById('projScoreBtn').addEventListener('click', () => {
      const checkboxes = document.querySelectorAll('#projectionChecklist input[type="checkbox"]');
      const checked = Array.from(checkboxes).filter(cb => cb.checked).length;
      const total = checkboxes.length;
      const pct = Math.round((checked / total) * 100);

      let msg = '', color = '';
      if (checked <= 1) {
        msg = `${checked}/${total} -- Low projection indicators. Your attraction may be more grounded in reality than projection. Or you may not yet be looking closely enough.`;
        color = 'var(--good)';
      } else if (checked <= 3) {
        msg = `${checked}/${total} -- Moderate. Some projection dynamics are present. This is normal, but worth noticing. Which items did you check? Those point to the specific unconscious material at play.`;
        color = 'var(--cyan)';
      } else if (checked <= 5) {
        msg = `${checked}/${total} -- Significant projection activity. The person you're thinking of is likely carrying substantial unconscious material for you. The attraction feels powerful precisely because it's fueled from below.`;
        color = 'var(--warn)';
      } else {
        msg = `${checked}/${total} -- High projection. You are likely in a deep projection dynamic. This doesn't mean the person is "wrong" for you, but it means most of what you're feeling is about your inner world, not theirs. This is the moment where self-awareness matters most.`;
        color = 'var(--rose)';
      }

      document.getElementById('projScoreOut').innerHTML = `
        <div class="flowNode" style="border-color: ${color}">
          <h3 style="color:${color}">Projection Assessment</h3>
          <p>${msg}</p>
        </div>
      `;
      showToast('Assessment calculated');
    });

    document.getElementById('projResetBtn').addEventListener('click', () => {
      const checkboxes = document.querySelectorAll('#projectionChecklist input[type="checkbox"]');
      checkboxes.forEach(cb => cb.checked = false);
      document.getElementById('projScoreOut').innerHTML = '';
      showToast('Assessment reset');
    });

    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // Toast notification
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    function showToast(message) {
      const toast = document.getElementById('toast');
      toast.textContent = message;
      toast.style.display = 'block';
      setTimeout(() => {
        toast.style.display = 'none';
      }, 2000);
    }
  </script>
</body>
</html>
