<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Why Self-Awareness Always Hurts â€” Interactive Infographic</title>
  <meta name="description" content="An interactive infographic exploring why self-awareness is painful, the psychology of the awareness gap, and how clarity eventually transforms suffering into direction." />
  <style>
    :root{
      --bg: #0b0f17;
      --panel: rgba(255,255,255,.06);
      --panel2: rgba(255,255,255,.085);
      --stroke: rgba(255,255,255,.14);
      --text: rgba(255,255,255,.92);
      --muted: rgba(255,255,255,.70);
      --faint: rgba(255,255,255,.55);
      --good: #75f0b6;
      --warn: #ffd27a;
      --bad: #ff7a99;
      --cyan: #7ad7ff;
      --violet: #bba7ff;
      --orange: #ffb38a;
      --shadow: 0 16px 60px rgba(0,0,0,.45);
      --shadow2: 0 10px 25px rgba(0,0,0,.35);
      --radius: 18px;
      --radius2: 14px;
      --grid: rgba(255,255,255,.07);
      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      --sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
    }

    *{box-sizing:border-box}
    html{scroll-behavior:smooth}
    html,body{height:100%}
    body{
      margin:0;
      font-family: var(--sans);
      color: var(--text);
      background:
        radial-gradient(1200px 600px at 15% 10%, rgba(187,167,255,.10), transparent 60%),
        radial-gradient(900px 500px at 80% 15%, rgba(255,122,153,.08), transparent 55%),
        radial-gradient(800px 500px at 55% 85%, rgba(122,215,255,.08), transparent 60%),
        linear-gradient(180deg, #070a10, var(--bg));
      overflow-x:hidden;
    }

    a{color:inherit}

    .wrap{max-width:1220px;margin:0 auto;padding:34px 18px 70px}

    /* Header */
    header{
      position: relative;
      padding: 26px 18px 22px;
      border: 1px solid var(--stroke);
      border-radius: var(--radius);
      background: linear-gradient(180deg, rgba(255,255,255,.07), rgba(255,255,255,.03));
      box-shadow: var(--shadow);
      overflow:hidden;
    }
    .headerGrid{
      display:grid;
      grid-template-columns: 1.25fr .75fr;
      gap: 18px;
      align-items: start;
    }
    .kicker{
      display:inline-flex;align-items:center;gap:10px;
      padding:8px 12px;
      border-radius:999px;
      border:1px solid var(--stroke);
      background: rgba(0,0,0,.25);
      font-size: 12px;
      letter-spacing:.12em;
      text-transform: uppercase;
      color: var(--muted);
    }
    .kicker .dot{width:8px;height:8px;border-radius:99px;background: linear-gradient(90deg, var(--violet), var(--bad)); box-shadow: 0 0 22px rgba(187,167,255,.25)}

    h1{margin:14px 0 10px;font-size: clamp(26px, 3.1vw, 44px);line-height:1.04;letter-spacing:-0.02em}
    .subtitle{margin:0 0 14px;color:var(--muted);font-size: 15px;line-height:1.55;max-width:72ch}

    .topStats{
      display:grid;
      grid-template-columns: repeat(2, minmax(0,1fr));
      gap: 12px;
      align-content: start;
    }
    .stat{
      border: 1px solid var(--stroke);
      border-radius: var(--radius2);
      background: rgba(0,0,0,.18);
      padding: 12px 12px 10px;
      box-shadow: var(--shadow2);
      min-height: 84px;
    }
    .stat .label{font-size:12px;color:var(--faint);text-transform:uppercase;letter-spacing:.12em}
    .stat .value{margin-top:7px;font-weight:700;font-size: 18px}
    .stat .note{margin-top:4px;font-size:12px;color:var(--muted)}

    .heroArt{
      position:absolute;inset:-1px -1px auto auto;
      width:min(520px, 55vw);
      height: 220px;
      pointer-events:none;
      opacity:.9;
      mask-image: radial-gradient(240px 180px at 65% 40%, rgba(0,0,0,1), rgba(0,0,0,.0) 70%);
    }

    /* Layout */
    .grid{
      margin-top: 18px;
      display:grid;
      grid-template-columns: 1fr;
      gap: 14px;
    }

    .row{
      display:grid;
      grid-template-columns: 1.05fr .95fr;
      gap: 14px;
    }

    @media (max-width: 960px){
      .headerGrid{grid-template-columns: 1fr}
      .row{grid-template-columns: 1fr}
      .heroArt{height:160px}
    }

    /* Cards */
    .card{
      border: 1px solid var(--stroke);
      border-radius: var(--radius);
      background: rgba(255,255,255,.05);
      box-shadow: var(--shadow2);
      overflow:hidden;
    }
    .cardHeader{
      display:flex;justify-content:space-between;align-items:flex-start;gap: 12px;
      padding: 14px 16px 10px;
      border-bottom: 1px solid rgba(255,255,255,.09);
      background: linear-gradient(180deg, rgba(0,0,0,.18), transparent);
      flex-wrap:wrap;
    }
    .cardHeader h2{margin:0;font-size: 16px;letter-spacing:-0.01em}
    .chip{
      display:inline-flex;align-items:center;gap:8px;
      padding:6px 10px;
      border-radius:999px;
      border:1px solid var(--stroke);
      background: rgba(0,0,0,.22);
      color: var(--muted);
      font-size: 12px;
      user-select:none;
      white-space:nowrap;
    }
    .chip b{color: var(--text)}
    .cardBody{padding: 14px 16px 16px}

    .muted{color:var(--muted)}
    .small{font-size:12px;color:var(--muted)}

    .split{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
    }
    @media (max-width: 740px){
      .split{grid-template-columns:1fr}
    }

    /* Pill list */
    .pill{
      border: 1px solid rgba(255,255,255,.11);
      border-radius: 999px;
      padding: 10px 12px;
      background: rgba(0,0,0,.18);
      display:flex;align-items:center;justify-content:space-between;gap: 10px;
      min-height: 44px;
    }
    .pill span{font-size: 13px}
    .tag{
      font-size: 11px;
      letter-spacing:.08em;
      text-transform: uppercase;
      padding: 4px 8px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.06);
      color: var(--muted);
      white-space:nowrap;
    }

    /* Diagram area */
    .viz{
      border: 1px solid rgba(255,255,255,.11);
      border-radius: var(--radius2);
      background:
        linear-gradient(180deg, rgba(0,0,0,.18), rgba(0,0,0,.08)),
        repeating-linear-gradient(90deg, transparent, transparent 22px, rgba(255,255,255,.03) 22px, rgba(255,255,255,.03) 23px),
        repeating-linear-gradient(0deg, transparent, transparent 22px, rgba(255,255,255,.03) 22px, rgba(255,255,255,.03) 23px);
      padding: 12px;
      position:relative;
      overflow:hidden;
    }

    svg{display:block;width:100%;height:auto}

    .controls{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
      margin-top: 12px;
    }
    @media (max-width: 740px){
      .controls{grid-template-columns:1fr}
    }

    .control{
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.18);
      border-radius: 14px;
      padding: 10px 12px;
    }
    .control label{display:flex;justify-content:space-between;gap:12px;align-items:center;font-size:12px;color:var(--muted);letter-spacing:.08em;text-transform:uppercase}
    input[type="range"]{width:100%;margin-top:10px;accent-color:var(--violet)}
    .control .readout{font-family:var(--mono);font-size:12px;color:var(--text)}

    .legend{
      display:flex;flex-wrap:wrap;gap:8px;
      margin-top: 10px;
    }
    .legend .key{display:flex;align-items:center;gap:8px;padding:6px 10px;border-radius:999px;border:1px solid rgba(255,255,255,.11);background:rgba(0,0,0,.16);font-size:12px;color:var(--muted)}
    .sw{width:10px;height:10px;border-radius:99px}

    /* Flow */
    .flow{
      display:grid;
      grid-template-columns: 1fr;
      gap: 10px;
    }
    .flowNode{
      border: 1px solid rgba(255,255,255,.12);
      border-radius: 16px;
      background: rgba(0,0,0,.18);
      padding: 12px;
      position: relative;
    }
    .flowNode h3{margin:0 0 6px;font-size: 14px}
    .flowNode p{margin:0;color:var(--muted);font-size: 13px;line-height:1.5}
    .flowNode .meta{margin-top:10px;display:flex;flex-wrap:wrap;gap:8px}
    .badge{font-size:11px;border:1px solid rgba(255,255,255,.12);background:rgba(255,255,255,.05);color:var(--muted);border-radius:999px;padding:5px 9px}

    /* Risk grid */
    .riskGrid{
      display:grid;
      grid-template-columns: repeat(2, minmax(0,1fr));
      gap: 10px;
    }
    @media (max-width: 640px){
      .riskGrid{grid-template-columns:1fr}
    }

    .risk{
      border:1px solid rgba(255,255,255,.12);
      border-radius: 16px;
      background: rgba(0,0,0,.18);
      padding: 12px;
    }
    .risk .rTop{display:flex;justify-content:space-between;gap:10px;align-items:center;flex-wrap:wrap}
    .risk strong{font-size: 13px}
    .meter{height: 10px;border-radius:99px;background: rgba(255,255,255,.08);border:1px solid rgba(255,255,255,.10);overflow:hidden;margin-top:10px}
    .meter > i{display:block;height:100%;width:50%;border-radius:99px}
    .risk p{margin:8px 0 0;color:var(--muted);font-size: 12px;line-height:1.45}

    /* Commentary */
    details{
      border: 1px solid rgba(255,255,255,.12);
      border-radius: 16px;
      background: rgba(0,0,0,.18);
      padding: 12px;
    }
    details + details{margin-top:10px}
    summary{
      cursor:pointer;
      list-style:none;
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap: 12px;
      user-select:none;
    }
    summary::-webkit-details-marker{display:none}
    summary strong{font-size: 14px}
    summary .hint{font-size:12px;color:var(--muted)}
    .detailBody{margin-top:10px;color:var(--muted);font-size: 13px;line-height:1.6}
    .callout{
      border-left: 3px solid rgba(187,167,255,.7);
      padding: 10px 12px;
      background: rgba(187,167,255,.08);
      border-radius: 14px;
      margin-top: 10px;
      color: rgba(255,255,255,.82);
    }
    .callout.rose{
      border-left-color: rgba(255,122,153,.7);
      background: rgba(255,122,153,.08);
    }
    .callout.teal{
      border-left-color: rgba(122,215,255,.7);
      background: rgba(122,215,255,.08);
    }

    /* Checklist */
    .checklist{display:grid;gap: 10px}
    .item{
      border:1px solid rgba(255,255,255,.12);
      border-radius: 16px;
      background: rgba(0,0,0,.18);
      padding: 12px;
      display:grid;
      grid-template-columns: 22px 1fr;
      gap: 10px;
      align-items:start;
      cursor:pointer;
      transition: border-color .2s ease, background .2s ease;
    }
    .item:hover{border-color:rgba(255,255,255,.22)}
    .item.checked{border-color:rgba(117,240,182,.3);background:rgba(117,240,182,.04)}
    .item input{margin-top:3px;accent-color: var(--violet);pointer-events:none}
    .item .t{display:flex;justify-content:space-between;gap:12px;align-items:baseline;flex-wrap:wrap}
    .item .t strong{font-size: 14px}
    .item .t em{font-style:normal;color:var(--muted);font-size:12px}
    .item .d{margin-top:6px;color:var(--muted);font-size: 13px;line-height:1.55}

    /* Quote blocks */
    .quote{
      border: 1px solid rgba(187,167,255,.2);
      border-radius: 16px;
      background: rgba(187,167,255,.06);
      padding: 16px;
      font-size: 15px;
      line-height: 1.6;
      font-style: italic;
      color: rgba(255,255,255,.85);
      position:relative;
    }
    .quote::before{
      content:"\201C";
      position:absolute;
      top:8px;left:12px;
      font-size:48px;
      color:rgba(187,167,255,.25);
      font-style:normal;
      line-height:1;
    }
    .quote .attr{
      margin-top:8px;
      font-size:12px;
      font-style:normal;
      color:var(--faint);
    }

    /* Phase indicator */
    .phases{
      display:grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 3px;
      margin-top: 12px;
    }
    @media (max-width: 640px){
      .phases{grid-template-columns: repeat(2, 1fr)}
    }
    .phase{
      border:1px solid rgba(255,255,255,.12);
      border-radius: 14px;
      padding: 12px;
      background: rgba(0,0,0,.18);
      text-align:center;
      cursor:pointer;
      transition: all .2s ease;
    }
    .phase:hover{border-color:rgba(255,255,255,.25)}
    .phase.active{border-color:rgba(187,167,255,.5);background:rgba(187,167,255,.08)}
    .phase .phIcon{font-size:28px;margin-bottom:6px}
    .phase .phName{font-size:13px;font-weight:700;margin-bottom:4px}
    .phase .phDesc{font-size:11px;color:var(--muted);line-height:1.4}

    /* Awareness meter */
    .awarenessMeter{
      position:relative;
      height:14px;
      border-radius:99px;
      background: rgba(255,255,255,.06);
      border:1px solid rgba(255,255,255,.10);
      overflow:hidden;
      margin-top:10px;
    }
    .awarenessMeter .fill{
      height:100%;
      border-radius:99px;
      transition: width .5s ease, background .5s ease;
    }

    /* Footer */
    footer{
      margin-top: 16px;
      padding: 14px 16px;
      border: 1px dashed rgba(255,255,255,.16);
      border-radius: var(--radius);
      color: var(--muted);
      font-size: 12px;
      line-height: 1.6;
      background: rgba(0,0,0,.14);
    }

    /* Utility */
    .mono{font-family:var(--mono)}
    .row2{display:grid;grid-template-columns: 1fr 1fr;gap: 12px}
    @media (max-width: 860px){.row2{grid-template-columns:1fr}}

    .hr{
      height: 1px;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,.14), transparent);
      margin: 12px 0;
    }

    /* Button */
    .btn{
      appearance:none;border:1px solid rgba(255,255,255,.16);
      background: rgba(0,0,0,.22);
      color: var(--text);
      padding: 10px 12px;
      border-radius: 14px;
      cursor:pointer;
      box-shadow: 0 12px 30px rgba(0,0,0,.25);
      transition: transform .12s ease, border-color .12s ease, background .12s ease;
      font-size: 13px;
    }
    .btn:hover{transform: translateY(-1px);border-color: rgba(255,255,255,.26);background: rgba(255,255,255,.07)}
    .btnRow{display:flex;gap:10px;flex-wrap:wrap;align-items:center}

    .toast{
      position: fixed;
      left: 50%;
      bottom: 18px;
      transform: translateX(-50%);
      background: rgba(10,14,22,.78);
      border: 1px solid rgba(255,255,255,.14);
      color: rgba(255,255,255,.86);
      padding: 10px 12px;
      border-radius: 14px;
      box-shadow: 0 20px 70px rgba(0,0,0,.5);
      font-size: 12px;
      max-width: min(720px, calc(100vw - 24px));
      display:none;
      backdrop-filter: blur(10px);
      z-index:100;
    }

    /* Three col grid */
    .grid3{
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap:10px;
    }
    @media (max-width: 860px){.grid3{grid-template-columns:1fr}}

    /* Insight ticker */
    .insightBox{
      border:1px solid rgba(255,255,255,.12);
      border-radius: 16px;
      background: rgba(0,0,0,.18);
      padding: 14px;
      min-height:80px;
      display:flex;
      flex-direction:column;
      justify-content:center;
    }
    .insightBox .insLabel{font-size:11px;color:var(--faint);text-transform:uppercase;letter-spacing:.1em;margin-bottom:6px}
    .insightBox .insText{font-size:14px;line-height:1.5;color:var(--text)}

    /* Animated eye SVG */
    @keyframes eyePulse{
      0%,100%{opacity:.6;transform:scale(1)}
      50%{opacity:1;transform:scale(1.04)}
    }
    .eyePulse{animation: eyePulse 3s ease-in-out infinite}

    /* Pain curve animation */
    @keyframes drawPath{
      from{stroke-dashoffset:1600}
      to{stroke-dashoffset:0}
    }
    .animPath{
      stroke-dasharray:1600;
      stroke-dashoffset:1600;
      animation: drawPath 2.5s ease forwards;
    }

    /* Print-friendly */
    @media print{
      body{background:white;color:#111}
      header,.card,details{box-shadow:none}
      .toast{display:none !important}
      .callout{border-left-color:#666}
    }
  </style>
</head>
<body>
  <div class="wrap">

    <header>
      <div class="heroArt" aria-hidden="true">
        <svg viewBox="0 0 520 220" role="img">
          <defs>
            <linearGradient id="g1" x1="0" x2="1" y1="0" y2="1">
              <stop offset="0" stop-color="rgba(187,167,255,.55)" />
              <stop offset="1" stop-color="rgba(255,122,153,.45)" />
            </linearGradient>
            <linearGradient id="g2" x1="0" x2="1" y1="1" y2="0">
              <stop offset="0" stop-color="rgba(122,215,255,.35)" />
              <stop offset="1" stop-color="rgba(117,240,182,.35)" />
            </linearGradient>
            <filter id="blurGlow" x="-30%" y="-30%" width="160%" height="160%">
              <feGaussianBlur stdDeviation="14" result="b"/>
              <feColorMatrix in="b" type="matrix" values="1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 18 -7" result="g"/>
              <feMerge>
                <feMergeNode in="g"/>
                <feMergeNode in="SourceGraphic"/>
              </feMerge>
            </filter>
          </defs>
          <g filter="url(#blurGlow)">
            <!-- Abstract eye / awareness shape -->
            <ellipse cx="260" cy="110" rx="180" ry="70" fill="none" stroke="url(#g1)" stroke-width="6" opacity=".5"/>
            <ellipse cx="260" cy="110" rx="180" ry="70" fill="none" stroke="url(#g1)" stroke-width="2" opacity=".3" transform="rotate(15 260 110)"/>
            <circle cx="260" cy="110" r="30" fill="none" stroke="url(#g2)" stroke-width="4" opacity=".6" class="eyePulse"/>
            <circle cx="260" cy="110" r="12" fill="rgba(187,167,255,.4)"/>
            <circle cx="260" cy="110" r="4" fill="rgba(255,255,255,.7)"/>
            <!-- Radiating awareness lines -->
            <line x1="260" y1="30" x2="260" y2="10" stroke="rgba(255,255,255,.2)" stroke-width="1"/>
            <line x1="340" y1="50" x2="370" y2="30" stroke="rgba(255,255,255,.15)" stroke-width="1"/>
            <line x1="180" y1="50" x2="150" y2="30" stroke="rgba(255,255,255,.15)" stroke-width="1"/>
            <line x1="380" y1="90" x2="420" y2="80" stroke="rgba(255,255,255,.12)" stroke-width="1"/>
            <line x1="140" y1="90" x2="100" y2="80" stroke="rgba(255,255,255,.12)" stroke-width="1"/>
          </g>
        </svg>
      </div>

      <div class="headerGrid">
        <div>
          <div class="kicker"><span class="dot"></span> psychology of awareness &bull; shadow work &bull; inner growth</div>
          <h1>Why Self-Awareness Always Hurts</h1>
          <p class="subtitle">
            Self-awareness is praised as the foundation of growth. But what nobody tells you is that the moment you see yourself clearly, <b>you lose the protection of ignorance</b>. This infographic maps the painful journey from unconscious comfort through the agonizing middle ground to eventual integrity.
          </p>
          <div class="btnRow">
            <button class="btn" id="jumpViz">Pain curve simulator</button>
            <button class="btn" id="jumpPhases">The 4 phases</button>
            <button class="btn" id="jumpCheck">Self-assessment</button>
            <button class="btn" id="toggleNotes">Toggle commentary</button>
          </div>
        </div>

        <div class="topStats" aria-label="Key insights">
          <div class="stat">
            <div class="label">Core paradox</div>
            <div class="value">Clarity = Weight</div>
            <div class="note">The more you see, the more you feel the gap between who you are and who you could be.</div>
          </div>
          <div class="stat">
            <div class="label">Why it hurts</div>
            <div class="value" style="color:var(--bad)">Excuses die first</div>
            <div class="note">Awareness removes your ability to lie to yourself before it gives you solutions.</div>
          </div>
          <div class="stat">
            <div class="label">The dangerous middle</div>
            <div class="value" style="color:var(--warn)">Knowing =/= Doing</div>
            <div class="note">You see the problem but haven't built the strength to act. Most people stop here.</div>
          </div>
          <div class="stat">
            <div class="label">Resolution</div>
            <div class="value" style="color:var(--good)">Awareness &rarr; Action</div>
            <div class="note">Pain fades when observation transforms into aligned behavior. Clarity becomes direction.</div>
          </div>
        </div>
      </div>
    </header>

    <div class="grid">

      <!-- The Central Thesis -->
      <section class="card" aria-label="Central thesis">
        <div class="cardHeader">
          <h2>The Central Thesis: Awareness Strips Away Emotional Anesthesia</h2>
          <div class="chip"><b>Key idea:</b> ignorance is a painkiller</div>
        </div>
        <div class="cardBody">
          <div class="split">
            <div>
              <p class="muted" style="margin-top:0">
                Before self-awareness, life feels easier. You react without questioning. You repeat patterns without guilt. You blame circumstances, people, bad luck. That ignorance <b>feels like peace</b>.
              </p>
              <p class="muted">
                Self-awareness takes that peace away. It removes your ability to lie to yourself. Things you once called "personality" start looking like <b>habits</b>. Things you once called "bad luck" start looking like <b>choices</b>.
              </p>
              <div class="quote" style="margin-top:12px">
                <div style="padding-left:28px">Awareness hurts only when you refuse to live by what you see. Once you do, it becomes the thing that sets you free.</div>
              </div>
            </div>
            <div>
              <div class="viz" aria-label="Ignorance vs Awareness diagram">
                <svg viewBox="0 0 460 320" role="img">
                  <defs>
                    <linearGradient id="igGrad" x1="0" x2="1" y1="0" y2="0">
                      <stop offset="0" stop-color="rgba(255,210,122,.4)"/>
                      <stop offset="1" stop-color="rgba(255,122,153,.3)"/>
                    </linearGradient>
                    <linearGradient id="awGrad" x1="0" x2="1" y1="0" y2="0">
                      <stop offset="0" stop-color="rgba(255,122,153,.4)"/>
                      <stop offset="1" stop-color="rgba(117,240,182,.4)"/>
                    </linearGradient>
                    <filter id="sf1" x="-20%" y="-20%" width="140%" height="140%">
                      <feGaussianBlur stdDeviation="6" result="b"/>
                      <feMerge><feMergeNode in="b"/><feMergeNode in="SourceGraphic"/></feMerge>
                    </filter>
                  </defs>
                  <g filter="url(#sf1)">
                    <!-- Ignorance bubble -->
                    <rect x="20" y="20" width="190" height="130" rx="18" fill="rgba(0,0,0,.2)" stroke="rgba(255,210,122,.3)"/>
                    <text x="36" y="50" font-size="14" fill="rgba(255,210,122,.9)" font-weight="700">Ignorance</text>
                    <text x="36" y="72" font-size="11" fill="rgba(255,255,255,.6)">No questioning</text>
                    <text x="36" y="88" font-size="11" fill="rgba(255,255,255,.6)">No guilt</text>
                    <text x="36" y="104" font-size="11" fill="rgba(255,255,255,.6)">External blame</text>
                    <text x="36" y="120" font-size="11" fill="rgba(255,210,122,.7)">Feels like: peace</text>
                    <text x="36" y="140" font-size="11" fill="rgba(255,255,255,.4)">Actually: numbness</text>

                    <!-- Arrow -->
                    <path d="M220 85 C260 85, 240 85, 260 85" fill="none" stroke="url(#igGrad)" stroke-width="6" stroke-linecap="round"/>
                    <polygon points="260,78 275,85 260,92" fill="rgba(255,122,153,.5)"/>

                    <!-- Awareness bubble -->
                    <rect x="280" y="20" width="160" height="130" rx="18" fill="rgba(0,0,0,.2)" stroke="rgba(187,167,255,.3)"/>
                    <text x="296" y="50" font-size="14" fill="rgba(187,167,255,.9)" font-weight="700">Awareness</text>
                    <text x="296" y="72" font-size="11" fill="rgba(255,255,255,.6)">Sees patterns</text>
                    <text x="296" y="88" font-size="11" fill="rgba(255,255,255,.6)">Feels responsibility</text>
                    <text x="296" y="104" font-size="11" fill="rgba(255,255,255,.6)">Internal honesty</text>
                    <text x="296" y="120" font-size="11" fill="rgba(255,122,153,.7)">Feels like: pain</text>
                    <text x="296" y="140" font-size="11" fill="rgba(255,255,255,.4)">Actually: growth</text>

                    <!-- Key insight box -->
                    <rect x="20" y="180" width="420" height="120" rx="18" fill="rgba(0,0,0,.15)" stroke="rgba(255,255,255,.1)"/>
                    <text x="36" y="208" font-size="13" fill="rgba(255,255,255,.85)" font-weight="700">Why the transition hurts:</text>
                    <text x="36" y="230" font-size="11" fill="rgba(255,255,255,.6)">Awareness removes excuses BEFORE it gives solutions.</text>
                    <text x="36" y="250" font-size="11" fill="rgba(255,255,255,.6)">You see the problem. You feel the weight. But you</text>
                    <text x="36" y="268" font-size="11" fill="rgba(255,255,255,.6)">haven't yet built the strength to act differently.</text>
                    <text x="36" y="290" font-size="11" fill="rgba(255,122,153,.7)">This gap = the source of all awareness pain.</text>
                  </g>
                </svg>
              </div>
            </div>
          </div>
          <div class="callout" data-commentary>
            <b>Commentary:</b> This maps to a well-known concept in psychology: the <b>competence-consciousness matrix</b>. Moving from "unconscious incompetence" (blissful ignorance) to "conscious incompetence" (painful awareness) is inherently distressing. The pain is not a sign of failure; it is a structural feature of growth.
          </div>
        </div>
      </section>

      <!-- The 4 Phases of Awareness -->
      <section class="card" id="phasesCard" aria-label="Four phases of awareness">
        <div class="cardHeader">
          <h2>The 4 Phases of Awareness (and Where Pain Peaks)</h2>
          <div class="chip"><b>Interactive:</b> click a phase</div>
        </div>
        <div class="cardBody">
          <p class="muted" style="margin-top:0">
            Self-awareness is not binary. It unfolds in stages, each with a distinct emotional texture. Click each phase to explore it.
          </p>

          <div class="phases" id="phaseSelector">
            <div class="phase active" data-phase="0">
              <div class="phIcon" style="color:var(--warn)">&#9678;</div>
              <div class="phName">Ignorance</div>
              <div class="phDesc">Unconscious patterns. No inner conflict.</div>
            </div>
            <div class="phase" data-phase="1">
              <div class="phIcon" style="color:var(--orange)">&#9670;</div>
              <div class="phName">Awakening</div>
              <div class="phDesc">First glimpses. Excuses start failing.</div>
            </div>
            <div class="phase" data-phase="2">
              <div class="phIcon" style="color:var(--bad)">&#9651;</div>
              <div class="phName">The Gap</div>
              <div class="phDesc">Maximum pain. Knowing without doing.</div>
            </div>
            <div class="phase" data-phase="3">
              <div class="phIcon" style="color:var(--good)">&#9733;</div>
              <div class="phName">Integration</div>
              <div class="phDesc">Action aligns with clarity. Pain becomes signal.</div>
            </div>
          </div>

          <div class="hr"></div>

          <div id="phaseDetail" style="min-height:120px">
            <!-- Populated by JS -->
          </div>

          <div class="hr"></div>

          <!-- Pain level meter -->
          <div style="display:flex;justify-content:space-between;align-items:center;gap:12px;flex-wrap:wrap">
            <div class="small" style="text-transform:uppercase;letter-spacing:.1em">Pain intensity for selected phase</div>
            <div class="small mono" id="painLabel">Low</div>
          </div>
          <div class="awarenessMeter">
            <div class="fill" id="painFill" style="width:20%;background:linear-gradient(90deg, var(--warn), var(--warn))"></div>
          </div>

          <div class="callout" data-commentary style="margin-top:12px">
            <b>Commentary:</b> Most self-help content focuses on Phase 1 (the "aha" moment) or Phase 4 (the transformed self). But <b>Phase 3 is where people actually live for months or years</b>. Understanding that this middle phase is normal, not a sign of failure, is itself a form of compassion toward yourself.
          </div>
        </div>
      </section>

      <!-- Pain Curve Simulator -->
      <section class="row">
        <div class="card" id="vizCard" aria-label="Pain curve simulator">
          <div class="cardHeader">
            <h2>The Awareness-Pain Curve</h2>
            <div class="chip">interactive simulator</div>
          </div>
          <div class="cardBody">
            <p class="muted" style="margin-top:0">
              This conceptual simulator visualizes the relationship between awareness depth and experienced pain, showing how action (behavioral alignment) transforms the curve.
            </p>

            <div class="viz" id="viz" aria-label="Awareness pain curve">
              <svg viewBox="0 0 980 420" id="painSvg" role="img" aria-label="Interactive awareness-pain relationship curve">
                <defs>
                  <linearGradient id="painGrad" x1="0" x2="1" y1="0" y2="0">
                    <stop offset="0" stop-color="rgba(255,210,122,.4)"/>
                    <stop offset=".45" stop-color="rgba(255,122,153,.5)"/>
                    <stop offset="1" stop-color="rgba(117,240,182,.4)"/>
                  </linearGradient>
                  <linearGradient id="actionGrad" x1="0" x2="1" y1="0" y2="0">
                    <stop offset="0" stop-color="rgba(117,240,182,.1)"/>
                    <stop offset="1" stop-color="rgba(117,240,182,.5)"/>
                  </linearGradient>
                </defs>
                <rect x="0" y="0" width="980" height="420" fill="rgba(0,0,0,.05)"/>

                <!-- Axes -->
                <path d="M80 40 L80 360 L940 360" stroke="rgba(255,255,255,.20)" stroke-width="1.2" fill="none"/>

                <!-- Grid -->
                <g id="painGrid"></g>

                <!-- Phase zones -->
                <rect x="80" y="40" width="200" height="320" fill="rgba(255,210,122,.04)" rx="0"/>
                <rect x="280" y="40" width="220" height="320" fill="rgba(255,179,138,.04)" rx="0"/>
                <rect x="500" y="40" width="220" height="320" fill="rgba(255,122,153,.06)" rx="0"/>
                <rect x="720" y="40" width="220" height="320" fill="rgba(117,240,182,.04)" rx="0"/>

                <!-- Phase labels -->
                <text x="180" y="382" font-size="11" fill="rgba(255,210,122,.7)" text-anchor="middle">Ignorance</text>
                <text x="390" y="382" font-size="11" fill="rgba(255,179,138,.7)" text-anchor="middle">Awakening</text>
                <text x="610" y="382" font-size="11" fill="rgba(255,122,153,.7)" text-anchor="middle">The Gap</text>
                <text x="830" y="382" font-size="11" fill="rgba(117,240,182,.7)" text-anchor="middle">Integration</text>

                <!-- Area fill under pain curve -->
                <path id="painArea" fill="rgba(255,122,153,.08)" stroke="none"/>

                <!-- Pain curve (no action) -->
                <path id="painCurve" stroke="url(#painGrad)" stroke-width="3.5" fill="none" stroke-linecap="round"/>

                <!-- Action curve -->
                <path id="actionCurve" stroke="rgba(117,240,182,.7)" stroke-width="3" fill="none" stroke-linecap="round" stroke-dasharray="8 5"/>

                <!-- Peak marker -->
                <g id="peakMarker">
                  <circle r="8" fill="rgba(255,122,153,.3)" stroke="rgba(255,122,153,.8)" stroke-width="2"/>
                  <text dy="-16" font-size="12" fill="rgba(255,122,153,.9)" text-anchor="middle" font-weight="700">Peak pain</text>
                </g>

                <!-- Axis labels -->
                <g font-family="ui-sans-serif, system-ui" font-size="13" fill="rgba(255,255,255,.75)">
                  <text x="80" y="26" fill="rgba(255,255,255,.88)" font-weight="700">Awareness depth vs. experienced pain</text>
                  <text x="510" y="405" font-size="12" fill="rgba(255,255,255,.62)" text-anchor="middle">Awareness Depth &rarr;</text>
                  <text x="18" y="200" font-size="12" fill="rgba(255,255,255,.62)" transform="rotate(-90 18 200)">Pain / Inner Conflict</text>
                </g>
              </svg>

              <div class="legend">
                <div class="key"><span class="sw" style="background: linear-gradient(90deg, rgba(255,210,122,.8), rgba(255,122,153,.8), rgba(117,240,182,.8))"></span> Pain (no action)</div>
                <div class="key"><span class="sw" style="background: rgba(117,240,182,.7)"></span> Pain (with aligned action)</div>
              </div>
            </div>

            <div class="controls">
              <div class="control">
                <label>
                  <span>Action / alignment level</span>
                  <span class="readout" id="actionReadout">20%</span>
                </label>
                <input id="actionSlider" type="range" min="0" max="100" value="20" />
                <div class="small" style="margin-top:8px">Higher action = faster pain resolution in later phases.</div>
              </div>
              <div class="control">
                <label>
                  <span>Self-compassion</span>
                  <span class="readout" id="compassionReadout">30%</span>
                </label>
                <input id="compassionSlider" type="range" min="0" max="100" value="30" />
                <div class="small" style="margin-top:8px">Compassion softens the peak. Without it, awareness becomes self-attack.</div>
              </div>
            </div>

            <div class="callout" data-commentary>
              <b>Commentary:</b> This is a conceptual model, not clinical data. The key insight: <b>awareness without action keeps you at the peak of the pain curve</b>. It is action (even small behavioral shifts) that moves you through and past the worst of it. Self-compassion does not eliminate pain, but lowers the ceiling.
            </div>
          </div>
        </div>

        <!-- Why the Mind Resists -->
        <div class="card" aria-label="Why the mind resists">
          <div class="cardHeader">
            <h2>Why the Mind Actively Resists Awareness</h2>
            <div class="chip"><b>Mechanism:</b> survival over truth</div>
          </div>
          <div class="cardBody">
            <p class="muted" style="margin-top:0">
              The reason self-awareness hurts is because the mind actively resists it. <b>Not accidentally. Intentionally.</b> The mind was not designed for truth. It was designed for survival. And survival prefers comfort over clarity.
            </p>

            <div class="flow" aria-label="Resistance mechanisms">
              <div class="flowNode">
                <h3>Distraction</h3>
                <p>Filling time with noise, stimulation, busyness. Anything to avoid sitting with what you see about yourself.</p>
                <div class="meta"><span class="badge">phones</span><span class="badge">overwork</span><span class="badge">scrolling</span></div>
              </div>
              <div class="flowNode">
                <h3>Intellectualization</h3>
                <p>Understanding your patterns conceptually without actually feeling the emotions underneath. Analysis as avoidance.</p>
                <div class="meta"><span class="badge">thinking vs feeling</span><span class="badge">false mastery</span></div>
              </div>
              <div class="flowNode">
                <h3>Humor as Deflection</h3>
                <p>Joking about your flaws instead of facing them. Making your pain entertaining so you never have to take it seriously.</p>
                <div class="meta"><span class="badge">self-deprecation</span><span class="badge">social armor</span></div>
              </div>
              <div class="flowNode">
                <h3>Relabeling</h3>
                <p>Calling awareness "overthinking." Framing your growth as a problem to make it easier to abandon.</p>
                <div class="meta"><span class="badge">"I think too much"</span><span class="badge">dismissal</span></div>
              </div>
              <div class="flowNode">
                <h3>Retreat to Positivity</h3>
                <p>Returning to surface-level affirmations and good vibes. Choosing emotional comfort over transformative discomfort.</p>
                <div class="meta"><span class="badge">spiritual bypassing</span><span class="badge">false peace</span></div>
              </div>
            </div>

            <div class="callout rose" data-commentary>
              <b>Commentary:</b> These resistance patterns are not character flaws; they are the nervous system's protective mechanisms. The critical distinction: avoidance does not remove awareness. <b>It only delays the responsibility that comes with it.</b> The awareness keeps accumulating underneath.
            </div>
          </div>
        </div>
      </section>

      <!-- The Awareness Gap -->
      <section class="card" aria-label="The awareness gap">
        <div class="cardHeader">
          <h2>The Awareness Gap: Where It Hurts Most</h2>
          <div class="chip"><b>Stage:</b> knowing without doing</div>
        </div>
        <div class="cardBody">
          <div class="split">
            <div>
              <p class="muted" style="margin-top:0">
                There is a specific stage that almost no one talks about. It is not ignorance. It is not growth. It is <b>the space in between</b>. You understand yourself, but you still live the same way. And this stage hurts the most.
              </p>

              <div class="viz" style="padding:14px" aria-label="The gap visualized">
                <svg viewBox="0 0 440 250" role="img">
                  <defs>
                    <linearGradient id="gapGrad" x1="0" x2="0" y1="0" y2="1">
                      <stop offset="0" stop-color="rgba(255,122,153,.3)"/>
                      <stop offset="1" stop-color="rgba(255,122,153,.05)"/>
                    </linearGradient>
                  </defs>
                  <!-- Who you are line -->
                  <line x1="40" y1="160" x2="400" y2="160" stroke="rgba(255,179,138,.5)" stroke-width="2" stroke-dasharray="4 4"/>
                  <text x="40" y="178" font-size="12" fill="rgba(255,179,138,.8)">Who you are now</text>

                  <!-- Who you could be line -->
                  <line x1="40" y1="70" x2="400" y2="70" stroke="rgba(117,240,182,.5)" stroke-width="2" stroke-dasharray="4 4"/>
                  <text x="40" y="64" font-size="12" fill="rgba(117,240,182,.8)">Who you know you could be</text>

                  <!-- The gap -->
                  <rect x="100" y="70" width="240" height="90" fill="url(#gapGrad)" rx="8"/>
                  <text x="220" y="120" font-size="16" fill="rgba(255,122,153,.9)" text-anchor="middle" font-weight="700">THE GAP</text>
                  <text x="220" y="140" font-size="11" fill="rgba(255,255,255,.6)" text-anchor="middle">This distance = the pain</text>

                  <!-- Annotations -->
                  <text x="40" y="210" font-size="11" fill="rgba(255,255,255,.5)">You see wasted time, missed chances, patterns</text>
                  <text x="40" y="226" font-size="11" fill="rgba(255,255,255,.5)">you wish you had noticed earlier.</text>
                  <text x="40" y="246" font-size="11" fill="rgba(255,210,122,.6)">This is where people either grow or retreat.</text>
                </svg>
              </div>
            </div>
            <div>
              <div class="small" style="margin-bottom:8px;text-transform:uppercase;letter-spacing:.1em">Symptoms of the gap</div>
              <div class="flow">
                <div class="flowNode">
                  <h3 style="color:var(--bad)">Quiet inner tension</h3>
                  <p>You know better but you don't act better yet. The mind experiences that gap as pain.</p>
                </div>
                <div class="flowNode">
                  <h3 style="color:var(--bad)">Every avoidance feels intentional</h3>
                  <p>Before, moments of compromise passed unnoticed. Now they leave a mark.</p>
                </div>
                <div class="flowNode">
                  <h3 style="color:var(--bad)">Exhaustion without clear cause</h3>
                  <p>You feel tired without doing much. That is not laziness. It is internal friction. Part of you wants truth. Part wants comfort.</p>
                </div>
                <div class="flowNode">
                  <h3 style="color:var(--bad)">Awareness as self-attack</h3>
                  <p>Replaying mistakes endlessly. Criticizing reactions. Shaming yourself for not doing better. But awareness was never meant to be a weapon.</p>
                </div>
              </div>

              <div class="quote" style="margin-top:12px">
                <div style="padding-left:28px">The pain does not come from knowing. It comes from resisting what knowing requires.</div>
              </div>
            </div>
          </div>

          <div class="callout" data-commentary>
            <b>Commentary:</b> This is arguably the most important section. The gap between insight and behavior is where therapeutic work actually happens. Cognitive Behavioral Therapy, ACT, and psychodynamic approaches all target this gap from different angles. <b>The insight alone is not the change.</b> The behavioral shift is the change, and behavior is costly: it means changing how people experience you.
          </div>
        </div>
      </section>

      <!-- What Awareness Costs + What It Reveals -->
      <section class="row">
        <div class="card" aria-label="What awareness costs">
          <div class="cardHeader">
            <h2>What Awareness Actually Costs</h2>
            <div class="chip"><b>Price:</b> comfort, approval, belonging</div>
          </div>
          <div class="cardBody">
            <p class="muted" style="margin-top:0">
              Changing how you live means changing how people experience you. The mind senses this cost and hesitates.
            </p>

            <div class="riskGrid" aria-label="Costs of awareness">
              <div class="risk">
                <div class="rTop"><strong>Loss of approval</strong><span class="badge">social</span></div>
                <div class="meter"><i style="width:70%;background:linear-gradient(90deg, var(--warn), var(--bad))"></i></div>
                <p>Setting boundaries means disappointing people who benefited from your silence.</p>
              </div>
              <div class="risk">
                <div class="rTop"><strong>Being misunderstood</strong><span class="badge">identity</span></div>
                <div class="meter"><i style="width:60%;background:linear-gradient(90deg, var(--warn), var(--bad))"></i></div>
                <p>Growth makes you unrecognizable to people who knew the old version of you.</p>
              </div>
              <div class="risk">
                <div class="rTop"><strong>Standing alone</strong><span class="badge">isolation</span></div>
                <div class="meter"><i style="width:65%;background:linear-gradient(90deg, var(--warn), var(--bad))"></i></div>
                <p>You can't unsee what you've seen. You can't laugh at the same things. You can't tolerate the same nonsense.</p>
              </div>
              <div class="risk">
                <div class="rTop"><strong>Loss of fantasy</strong><span class="badge">internal</span></div>
                <div class="meter"><i style="width:55%;background:linear-gradient(90deg, var(--warn), var(--bad))"></i></div>
                <p>You realize that growth is not a mindset shift. It is a behavioral shift. And behavior is costly.</p>
              </div>
            </div>

            <div class="callout rose" data-commentary>
              <b>Commentary:</b> This is why awareness often feels <b>lonely</b>. The distance it creates is not superiority; it is perceptual. You notice how much of life is built on distraction and avoidance. That distance is temporary, but real. It is the space required for a new identity to form.
            </div>
          </div>
        </div>

        <div class="card" aria-label="What awareness reveals">
          <div class="cardHeader">
            <h2>What Awareness Reveals About You</h2>
            <div class="chip"><b>Core shift:</b> victim &rarr; participant</div>
          </div>
          <div class="cardBody">
            <p class="muted" style="margin-top:0">
              Self-awareness exposes something uncomfortable: <b>you are not just a victim of circumstances. You are also a participant.</b> This does not mean everything is your fault. It means you have more influence than you thought.
            </p>

            <div class="viz" style="padding:14px" aria-label="Victim to participant shift">
              <svg viewBox="0 0 440 280" role="img">
                <defs>
                  <filter id="sf2" x="-20%" y="-20%" width="140%" height="140%">
                    <feGaussianBlur stdDeviation="5" result="b"/>
                    <feMerge><feMergeNode in="b"/><feMergeNode in="SourceGraphic"/></feMerge>
                  </filter>
                </defs>
                <g filter="url(#sf2)">
                  <!-- Before awareness -->
                  <text x="110" y="24" font-size="13" fill="rgba(255,255,255,.7)" text-anchor="middle" font-weight="700">Before</text>
                  <circle cx="110" cy="80" r="36" fill="rgba(0,0,0,.2)" stroke="rgba(255,210,122,.3)" stroke-width="2"/>
                  <text x="110" y="76" font-size="11" fill="rgba(255,255,255,.7)" text-anchor="middle">You</text>
                  <text x="110" y="92" font-size="9" fill="rgba(255,255,255,.4)" text-anchor="middle">(passive)</text>

                  <!-- Arrows pointing AT you -->
                  <line x1="30" y1="50" x2="72" y2="70" stroke="rgba(255,122,153,.4)" stroke-width="2" marker-end="none"/>
                  <text x="18" y="44" font-size="9" fill="rgba(255,122,153,.6)">timing</text>
                  <line x1="30" y1="110" x2="72" y2="90" stroke="rgba(255,122,153,.4)" stroke-width="2"/>
                  <text x="10" y="118" font-size="9" fill="rgba(255,122,153,.6)">people</text>
                  <line x1="110" y1="150" x2="110" y2="118" stroke="rgba(255,122,153,.4)" stroke-width="2"/>
                  <text x="94" y="164" font-size="9" fill="rgba(255,122,153,.6)">fate</text>
                  <line x1="190" y1="50" x2="148" y2="70" stroke="rgba(255,122,153,.4)" stroke-width="2"/>
                  <text x="182" y="44" font-size="9" fill="rgba(255,122,153,.6)">luck</text>

                  <!-- After awareness -->
                  <text x="330" y="24" font-size="13" fill="rgba(255,255,255,.7)" text-anchor="middle" font-weight="700">After</text>
                  <circle cx="330" cy="80" r="36" fill="rgba(0,0,0,.2)" stroke="rgba(117,240,182,.3)" stroke-width="2"/>
                  <text x="330" y="76" font-size="11" fill="rgba(255,255,255,.7)" text-anchor="middle">You</text>
                  <text x="330" y="92" font-size="9" fill="rgba(255,255,255,.4)" text-anchor="middle">(active)</text>

                  <!-- Arrows pointing FROM you -->
                  <line x1="368" y1="70" x2="410" y2="50" stroke="rgba(117,240,182,.4)" stroke-width="2"/>
                  <text x="400" y="44" font-size="9" fill="rgba(117,240,182,.6)">choice</text>
                  <line x1="368" y1="90" x2="410" y2="110" stroke="rgba(117,240,182,.4)" stroke-width="2"/>
                  <text x="400" y="118" font-size="9" fill="rgba(117,240,182,.6)">courage</text>
                  <line x1="330" y1="118" x2="330" y2="150" stroke="rgba(117,240,182,.4)" stroke-width="2"/>
                  <text x="310" y="164" font-size="9" fill="rgba(117,240,182,.6)">honesty</text>
                  <line x1="292" y1="70" x2="250" y2="50" stroke="rgba(117,240,182,.4)" stroke-width="2"/>
                  <text x="232" y="44" font-size="9" fill="rgba(117,240,182,.6)">influence</text>

                  <!-- Insight -->
                  <rect x="40" y="190" width="360" height="74" rx="16" fill="rgba(0,0,0,.15)" stroke="rgba(255,255,255,.1)"/>
                  <text x="220" y="214" font-size="12" fill="rgba(255,255,255,.8)" text-anchor="middle" font-weight="700">Influence is terrifying. Because influence means choice.</text>
                  <text x="220" y="234" font-size="11" fill="rgba(255,255,255,.55)" text-anchor="middle">You see where fear shaped decisions, where comfort kept you small,</text>
                  <text x="220" y="250" font-size="11" fill="rgba(255,255,255,.55)" text-anchor="middle">where silence protected others more than yourself.</text>
                </g>
              </svg>
            </div>

            <div class="callout" data-commentary>
              <b>Commentary:</b> This "victim to participant" shift is one of the most therapeutically significant transitions a person can make. It does not mean blaming yourself for everything. It means reclaiming <b>agency</b>. And agency, paradoxically, is both empowering and terrifying, because it implies that change was always possible.
            </div>
          </div>
        </div>
      </section>

      <!-- The Incubation Period -->
      <section class="card" aria-label="Incubation">
        <div class="cardHeader">
          <h2>The Incubation Period: What Is Actually Happening During the Pain</h2>
          <div class="chip"><b>Key insight:</b> this is not failure</div>
        </div>
        <div class="cardBody">
          <div class="split">
            <div>
              <p class="muted" style="margin-top:0">
                Before change becomes visible, it becomes internal. Before confidence appears, there is uncertainty. Before alignment, there is discomfort. This middle stage is not failure. <b>It is incubation.</b>
              </p>

              <div class="grid3" style="margin-top:12px">
                <div class="insightBox">
                  <div class="insLabel">Nervous system</div>
                  <div class="insText">Re-calibrating. Learning new thresholds for what you will and won't accept.</div>
                </div>
                <div class="insightBox">
                  <div class="insLabel">Values</div>
                  <div class="insText">Reorganizing. What once felt important is being re-evaluated against what is authentic.</div>
                </div>
                <div class="insightBox">
                  <div class="insLabel">Tolerance</div>
                  <div class="insText">Shrinking. Your tolerance for self-betrayal is decreasing. That shrinking hurts.</div>
                </div>
              </div>

              <div class="quote" style="margin-top:14px">
                <div style="padding-left:28px">You are no longer willing to abandon yourself for convenience. Even if you still do it sometimes, you feel the cost immediately. That cost is what eventually forces change.</div>
              </div>
            </div>
            <div>
              <div class="viz" style="padding:14px" aria-label="Incubation process">
                <svg viewBox="0 0 440 380" role="img">
                  <defs>
                    <linearGradient id="incubGrad" x1=".5" x2=".5" y1="0" y2="1">
                      <stop offset="0" stop-color="rgba(255,122,153,.3)"/>
                      <stop offset=".5" stop-color="rgba(255,210,122,.2)"/>
                      <stop offset="1" stop-color="rgba(117,240,182,.3)"/>
                    </linearGradient>
                    <filter id="sf3" x="-20%" y="-20%" width="140%" height="140%">
                      <feGaussianBlur stdDeviation="4" result="b"/>
                      <feMerge><feMergeNode in="b"/><feMergeNode in="SourceGraphic"/></feMerge>
                    </filter>
                  </defs>
                  <g filter="url(#sf3)">
                    <!-- Central vertical path -->
                    <rect x="200" y="20" width="40" height="340" rx="20" fill="url(#incubGrad)" opacity=".3"/>

                    <!-- Stages descending -->
                    <circle cx="220" cy="50" r="18" fill="rgba(0,0,0,.3)" stroke="rgba(255,122,153,.5)" stroke-width="2"/>
                    <text x="220" y="54" font-size="11" fill="rgba(255,255,255,.8)" text-anchor="middle">Pain</text>
                    <text x="270" y="46" font-size="10" fill="rgba(255,122,153,.7)">Restless, impatient,</text>
                    <text x="270" y="60" font-size="10" fill="rgba(255,122,153,.7)">emotionally raw</text>

                    <circle cx="220" cy="120" r="18" fill="rgba(0,0,0,.3)" stroke="rgba(255,179,138,.5)" stroke-width="2"/>
                    <text x="220" y="124" font-size="10" fill="rgba(255,255,255,.8)" text-anchor="middle">Resist</text>
                    <text x="60" y="116" font-size="10" fill="rgba(255,179,138,.7)">Part of you wants truth.</text>
                    <text x="60" y="130" font-size="10" fill="rgba(255,179,138,.7)">Part wants comfort.</text>

                    <circle cx="220" cy="190" r="18" fill="rgba(0,0,0,.3)" stroke="rgba(255,210,122,.5)" stroke-width="2"/>
                    <text x="220" y="194" font-size="10" fill="rgba(255,255,255,.8)" text-anchor="middle">Shift</text>
                    <text x="270" y="186" font-size="10" fill="rgba(255,210,122,.7)">Tolerance for self-</text>
                    <text x="270" y="200" font-size="10" fill="rgba(255,210,122,.7)">betrayal shrinks</text>

                    <circle cx="220" cy="260" r="18" fill="rgba(0,0,0,.3)" stroke="rgba(122,215,255,.5)" stroke-width="2"/>
                    <text x="220" y="264" font-size="10" fill="rgba(255,255,255,.8)" text-anchor="middle">Clarity</text>
                    <text x="60" y="256" font-size="10" fill="rgba(122,215,255,.7)">Not motivation. Not</text>
                    <text x="60" y="270" font-size="10" fill="rgba(122,215,255,.7)">inspiration. Clarity.</text>

                    <circle cx="220" cy="330" r="18" fill="rgba(0,0,0,.3)" stroke="rgba(117,240,182,.5)" stroke-width="2"/>
                    <text x="220" y="334" font-size="10" fill="rgba(255,255,255,.8)" text-anchor="middle">Act</text>
                    <text x="270" y="326" font-size="10" fill="rgba(117,240,182,.7)">Action becomes</text>
                    <text x="270" y="340" font-size="10" fill="rgba(117,240,182,.7)">inevitable</text>

                    <!-- Connecting arrows -->
                    <path d="M220,70 L220,100" stroke="rgba(255,255,255,.15)" stroke-width="1.5"/>
                    <path d="M220,140 L220,170" stroke="rgba(255,255,255,.15)" stroke-width="1.5"/>
                    <path d="M220,210 L220,240" stroke="rgba(255,255,255,.15)" stroke-width="1.5"/>
                    <path d="M220,280 L220,310" stroke="rgba(255,255,255,.15)" stroke-width="1.5"/>
                  </g>
                </svg>
              </div>
            </div>
          </div>

          <div class="callout teal" data-commentary>
            <b>Commentary:</b> The key reframe here is that <b>clarity removes your ability to live a life that doesn't fit you</b>. When that ability disappears, action becomes inevitable. This is not a motivational trick; it is the natural endpoint of sufficient awareness combined with sufficient pain. The pain is the pressure that forces alignment.
          </div>
        </div>
      </section>

      <!-- Resolution: When Pain Transforms -->
      <section class="card" aria-label="Resolution">
        <div class="cardHeader">
          <h2>When Awareness Stops Hurting: The Resolution</h2>
          <div class="chip"><b>Shift:</b> observation &rarr; action</div>
        </div>
        <div class="cardBody">
          <div class="split">
            <div>
              <h3 style="margin:0 0 10px;font-size:14px;color:var(--good)">Self-awareness stops hurting when it stops being observation and starts becoming action.</h3>
              <p class="muted" style="margin:0 0 12px">
                The pain fades when you stop using awareness as a weapon against yourself. Early self-awareness feels harsh because it comes without compassion. You see your flaws, but you haven't yet learned how to work with them.
              </p>

              <div class="flow">
                <div class="flowNode" style="border-color:rgba(117,240,182,.2)">
                  <h3 style="color:var(--good)">Stop obsessing over what's wrong</h3>
                  <p>Start noticing what you tolerate. The shift is from self-analysis to environmental awareness.</p>
                </div>
                <div class="flowNode" style="border-color:rgba(117,240,182,.2)">
                  <h3 style="color:var(--good)">Stop attacking yourself</h3>
                  <p>Start setting boundaries. Transform the energy of shame into the energy of standards.</p>
                </div>
                <div class="flowNode" style="border-color:rgba(117,240,182,.2)">
                  <h3 style="color:var(--good)">Stop replaying mistakes</h3>
                  <p>Start making different choices. Each new choice rewires the pattern that caused the original pain.</p>
                </div>
              </div>
            </div>
            <div>
              <div class="small" style="margin-bottom:10px;text-transform:uppercase;letter-spacing:.1em">Signs of integration</div>
              <div class="riskGrid" style="grid-template-columns:1fr">
                <div class="risk" style="border-color:rgba(117,240,182,.15)">
                  <div class="rTop"><strong>Quieter, not withdrawn</strong><span class="badge" style="color:var(--good)">internal</span></div>
                  <div class="meter"><i style="width:85%;background:linear-gradient(90deg, var(--cyan), var(--good))"></i></div>
                  <p>You no longer need noise to escape yourself. Silence becomes comfort.</p>
                </div>
                <div class="risk" style="border-color:rgba(117,240,182,.15)">
                  <div class="rTop"><strong>Fewer decisions, more weight</strong><span class="badge" style="color:var(--good)">focus</span></div>
                  <div class="meter"><i style="width:78%;background:linear-gradient(90deg, var(--cyan), var(--good))"></i></div>
                  <p>Each choice carries conviction. You tolerate less, but respect yourself more.</p>
                </div>
                <div class="risk" style="border-color:rgba(117,240,182,.15)">
                  <div class="rTop"><strong>Steady, not dramatic</strong><span class="badge" style="color:var(--good)">presence</span></div>
                  <div class="meter"><i style="width:90%;background:linear-gradient(90deg, var(--cyan), var(--good))"></i></div>
                  <p>Deeply self-aware people don't look dramatic. They look steady. Pain becomes a signal, not a sentence.</p>
                </div>
                <div class="risk" style="border-color:rgba(117,240,182,.15)">
                  <div class="rTop"><strong>Integrity over comfort</strong><span class="badge" style="color:var(--good)">core</span></div>
                  <div class="meter"><i style="width:95%;background:linear-gradient(90deg, var(--good), var(--good))"></i></div>
                  <p>What replaces illusions is something stronger than comfort. It's integrity. And integrity makes life feel solid.</p>
                </div>
              </div>
            </div>
          </div>

          <div class="callout teal" data-commentary>
            <b>Commentary:</b> The endpoint is not painlessness. It is a transformed relationship with pain. The pain that once felt unbearable becomes a <b>signal</b>: a reminder that something needs adjustment, not self-punishment. This is the difference between suffering and guidance. <b>The pain was never the destination. It was the doorway.</b>
          </div>
        </div>
      </section>

      <!-- Self-Assessment -->
      <section class="card" id="checkCard" aria-label="Self-assessment">
        <div class="cardHeader">
          <h2>Where Are You on the Awareness Journey?</h2>
          <div class="chip"><b>Interactive:</b> self-assessment</div>
        </div>
        <div class="cardBody">
          <p class="muted" style="margin-top:0">
            Check the statements that resonate with your current experience. This is not a diagnostic tool; it is a mirror.
          </p>

          <div class="checklist" id="checklist">
            <div class="item" onclick="this.querySelector('input').checked=!this.querySelector('input').checked;this.classList.toggle('checked');updateScore()">
              <input type="checkbox" />
              <div>
                <div class="t"><strong>I notice my patterns but repeat them anyway</strong><em>gap signal</em></div>
                <div class="d">You see the behavior clearly but haven't mustered the strength to change it consistently.</div>
              </div>
            </div>
            <div class="item" onclick="this.querySelector('input').checked=!this.querySelector('input').checked;this.classList.toggle('checked');updateScore()">
              <input type="checkbox" />
              <div>
                <div class="t"><strong>I feel tired without a clear reason</strong><em>internal friction</em></div>
                <div class="d">Part of you wants truth and part wants comfort. That conflict is exhausting even when you're not "doing" anything.</div>
              </div>
            </div>
            <div class="item" onclick="this.querySelector('input').checked=!this.querySelector('input').checked;this.classList.toggle('checked');updateScore()">
              <input type="checkbox" />
              <div>
                <div class="t"><strong>I can't unsee what I've seen about myself</strong><em>no return</em></div>
                <div class="d">Ignorance is no longer available to you. You cannot genuinely pretend you don't know what you know.</div>
              </div>
            </div>
            <div class="item" onclick="this.querySelector('input').checked=!this.querySelector('input').checked;this.classList.toggle('checked');updateScore()">
              <input type="checkbox" />
              <div>
                <div class="t"><strong>I say yes when I mean no</strong><em>boundary gap</em></div>
                <div class="d">You know you should set limits but the cost of disappointing people still outweighs your self-respect, for now.</div>
              </div>
            </div>
            <div class="item" onclick="this.querySelector('input').checked=!this.querySelector('input').checked;this.classList.toggle('checked');updateScore()">
              <input type="checkbox" />
              <div>
                <div class="t"><strong>I feel slightly out of place, even with people I care about</strong><em>perceptual distance</em></div>
                <div class="d">Your awareness has shifted your perception. Conversations feel emptier. Routines feel more unconscious.</div>
              </div>
            </div>
            <div class="item" onclick="this.querySelector('input').checked=!this.querySelector('input').checked;this.classList.toggle('checked');updateScore()">
              <input type="checkbox" />
              <div>
                <div class="t"><strong>I use humor or analysis to avoid feeling</strong><em>resistance pattern</em></div>
                <div class="d">Intellectualization or jokes about your flaws serve as a buffer against the raw emotional weight of what you see.</div>
              </div>
            </div>
            <div class="item" onclick="this.querySelector('input').checked=!this.querySelector('input').checked;this.classList.toggle('checked');updateScore()">
              <input type="checkbox" />
              <div>
                <div class="t"><strong>I have started making different choices</strong><em>action signal</em></div>
                <div class="d">You are beginning to act on what you see, even when it is uncomfortable. Boundaries are forming.</div>
              </div>
            </div>
            <div class="item" onclick="this.querySelector('input').checked=!this.querySelector('input').checked;this.classList.toggle('checked');updateScore()">
              <input type="checkbox" />
              <div>
                <div class="t"><strong>Pain has started feeling more like guidance than punishment</strong><em>integration signal</em></div>
                <div class="d">Discomfort is becoming a compass rather than a sentence. You are learning to work with what you see.</div>
              </div>
            </div>
          </div>

          <div class="hr"></div>
          <div class="btnRow">
            <button class="btn" id="scoreBtn">Reflect on my assessment</button>
            <button class="btn" id="resetBtn">Reset</button>
          </div>
          <div id="scoreOut" style="margin-top:12px;min-height:20px"></div>

          <div class="callout" data-commentary>
            <b>Commentary:</b> This assessment is not clinical. It is a structured reflection tool based on the themes in the source material. If multiple "gap signals" resonate while "action signals" don't, you are likely in Phase 3 (the gap). That is not a diagnosis; it is orientation. And orientation is the first step toward movement.
          </div>
        </div>
      </section>

      <!-- Key Insights Summary -->
      <section class="card" aria-label="Key insights">
        <div class="cardHeader">
          <h2>The Thesis, Distilled</h2>
          <div class="chip"><b>Summary:</b> pain is a doorway</div>
        </div>
        <div class="cardBody">
          <div class="grid3">
            <div class="insightBox" style="border-color:rgba(255,122,153,.2)">
              <div class="insLabel" style="color:var(--bad)">Why it hurts</div>
              <div class="insText">Awareness removes your emotional anesthesia. You feel things you previously numbed: regret, shame, anger at yourself. Not because you are broken, but because you are finally awake.</div>
            </div>
            <div class="insightBox" style="border-color:rgba(255,210,122,.2)">
              <div class="insLabel" style="color:var(--warn)">What to do about it</div>
              <div class="insText">Stop using awareness as a weapon against yourself. The pain requires quiet courage: courage to disappoint people, to let go of familiarity, to sit with discomfort without numbing it.</div>
            </div>
            <div class="insightBox" style="border-color:rgba(117,240,182,.2)">
              <div class="insLabel" style="color:var(--good)">Where it leads</div>
              <div class="insText">When your actions align with what you see, inner conflict dissolves. What replaces illusions is something stronger than comfort: integrity. And integrity makes life feel solid.</div>
            </div>
          </div>

          <div class="hr"></div>

          <details data-commentary>
            <summary><strong>Final reflection on the psychology of awareness</strong><span class="hint">click to expand</span></summary>
            <div class="detailBody">
              <p>
                This infographic translates a narration that makes strong claims about the nature of self-awareness and psychological growth. The framework it presents, while not directly citing specific research, maps closely to established concepts in developmental psychology, existential therapy, and the work of figures like Carl Rogers (the gap between the real self and the ideal self), Irvin Yalom (existential anxiety as a feature of awareness), and the Stages of Change model (pre-contemplation, contemplation, preparation, action, maintenance).
              </p>
              <p style="margin-top:8px">
                The core claim, that awareness necessarily precedes a period of increased suffering before it becomes liberating, is well-supported by therapeutic experience. But it is worth noting that <b>awareness alone is not sufficient</b>. Without compassion, support structures, and the gradual building of behavioral capacity, awareness can indeed become a source of chronic self-punishment rather than growth. If you find yourself stuck in the "gap" for an extended period, professional support (therapy, coaching, trusted community) can provide the scaffolding that awareness alone cannot.
              </p>
            </div>
          </details>

          <details data-commentary>
            <summary><strong>About this infographic's methodology</strong><span class="hint">click to expand</span></summary>
            <div class="detailBody">
              <p>
                This page transforms spoken narration into a structured visual format. The original text uses a linear, rhetorical style; the infographic reorganizes it thematically to clarify the argument's structure: thesis, mechanism, consequences, resolution. Where the narration makes claims, the commentary sections offer perspective on evidence quality and alternative framings.
              </p>
            </div>
          </details>
        </div>
      </section>

    </div>

    <footer>
      <p>
        <b>Credits &amp; notes:</b> This interactive infographic translates a narration about the psychology of self-awareness and personal growth. It is not clinical advice or a diagnostic tool. The visualizations, simulator, and self-assessment are conceptual aids designed to help you think about the claims, not substitutes for professional guidance.
      </p>
      <p style="margin-top:10px">
        If the themes here resonate and you feel stuck, consider speaking with a therapist or counselor who can provide the relational scaffolding that makes awareness actionable rather than paralyzing.
      </p>
    </footer>

  </div>

  <div class="toast" id="toast"></div>

  <script>
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // Phase selector
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    const phaseData = [
      {
        title: 'Phase 1: Ignorance',
        color: 'var(--warn)',
        pain: 20,
        painLabel: 'Low',
        painColor: 'var(--warn)',
        content: `<p class="muted" style="margin:0"><b>Before awareness, life feels easier.</b> You react without questioning. You repeat patterns without guilt. You blame circumstances, people, bad luck. Confusion allows hope without effort.</p>
          <div style="margin-top:10px;display:flex;flex-wrap:wrap;gap:8px">
            <span class="badge">no inner conflict</span>
            <span class="badge">external blame</span>
            <span class="badge">unconscious patterns</span>
            <span class="badge">false peace</span>
          </div>
          <p class="muted" style="margin-top:10px;font-size:12px"><b>Emotional texture:</b> Comfortable. Reactive. Unquestioning. The pain exists but is not perceived because there is no frame of reference.</p>`
      },
      {
        title: 'Phase 2: Awakening',
        color: 'var(--orange)',
        pain: 55,
        painLabel: 'Rising',
        painColor: 'linear-gradient(90deg, var(--warn), var(--orange))',
        content: `<p class="muted" style="margin:0"><b>You begin to notice your reactions, your defenses, your excuses.</b> Things you once called personality start looking like habits. Things you once called bad luck start looking like choices. The first cracks in the shield.</p>
          <div style="margin-top:10px;display:flex;flex-wrap:wrap;gap:8px">
            <span class="badge">pattern recognition</span>
            <span class="badge">excuses failing</span>
            <span class="badge">growing discomfort</span>
            <span class="badge">can't unsee</span>
          </div>
          <p class="muted" style="margin-top:10px;font-size:12px"><b>Emotional texture:</b> Unsettling. Disorienting. A dawning sense that something is off, that the stories you told yourself are coming apart.</p>`
      },
      {
        title: 'Phase 3: The Gap (Peak Pain)',
        color: 'var(--bad)',
        pain: 90,
        painLabel: 'Maximum',
        painColor: 'linear-gradient(90deg, var(--orange), var(--bad))',
        content: `<p class="muted" style="margin:0"><b>You understand yourself but still live the same way.</b> You know what triggers you. You know why you react. But your life hasn't changed yet. You still say yes when you mean no. Every avoidance feels intentional. Every delay feels like self-betrayal.</p>
          <div style="margin-top:10px;display:flex;flex-wrap:wrap;gap:8px">
            <span class="badge">knowing without doing</span>
            <span class="badge">exhaustion</span>
            <span class="badge">internal friction</span>
            <span class="badge">self-attack risk</span>
          </div>
          <p class="muted" style="margin-top:10px;font-size:12px"><b>Emotional texture:</b> Heavy. Conflicted. Restless. Emotionally exposed. This is where most people either grow or retreat. The temptation to return to numbness is strongest here.</p>`
      },
      {
        title: 'Phase 4: Integration',
        color: 'var(--good)',
        pain: 25,
        painLabel: 'Signal',
        painColor: 'linear-gradient(90deg, var(--cyan), var(--good))',
        content: `<p class="muted" style="margin:0"><b>Awareness transforms from observation into action.</b> You stop obsessing over what's wrong and start noticing what you tolerate. You stop attacking yourself and start setting boundaries. Pain becomes guidance, not punishment. Inner conflict dissolves as actions align with what you see.</p>
          <div style="margin-top:10px;display:flex;flex-wrap:wrap;gap:8px">
            <span class="badge">aligned action</span>
            <span class="badge">quiet confidence</span>
            <span class="badge">integrity</span>
            <span class="badge">steadiness</span>
          </div>
          <p class="muted" style="margin-top:10px;font-size:12px"><b>Emotional texture:</b> Quiet. Grounded. Serious but not heavy. You make fewer decisions, but they carry more weight. You tolerate less, but respect yourself more. Life feels solid.</p>`
      }
    ];

    const phaseSelector = document.getElementById('phaseSelector');
    const phaseDetail = document.getElementById('phaseDetail');
    const painFill = document.getElementById('painFill');
    const painLabel = document.getElementById('painLabel');

    function selectPhase(idx) {
      const d = phaseData[idx];
      document.querySelectorAll('.phase').forEach((el, i) => {
        el.classList.toggle('active', i === idx);
      });
      phaseDetail.innerHTML = `<h3 style="margin:0 0 8px;font-size:15px;color:${d.color}">${d.title}</h3>${d.content}`;
      painFill.style.width = d.pain + '%';
      painFill.style.background = d.painColor;
      painLabel.textContent = d.painLabel;
      painLabel.style.color = d.color;
    }

    phaseSelector.addEventListener('click', e => {
      const phase = e.target.closest('[data-phase]');
      if (phase) selectPhase(parseInt(phase.dataset.phase));
    });
    selectPhase(0);

    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // Pain Curve Simulator
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    const actionSlider = document.getElementById('actionSlider');
    const compassionSlider = document.getElementById('compassionSlider');
    const actionReadout = document.getElementById('actionReadout');
    const compassionReadout = document.getElementById('compassionReadout');

    function renderPainCurve() {
      const action = parseInt(actionSlider.value) / 100;
      const compassion = parseInt(compassionSlider.value) / 100;
      actionReadout.textContent = actionSlider.value + '%';
      compassionReadout.textContent = compassionSlider.value + '%';

      const W = 980, H = 420;
      const left = 80, right = 940, top = 40, bottom = 360;
      const graphW = right - left;
      const graphH = bottom - top;
      const points = 80;

      // Pain curve (without action): rises to peak around 65%, then slowly declines
      // With action: the decline is faster and deeper
      // With compassion: the peak is lower

      function painNoAction(t) {
        // t is 0-1 (awareness depth)
        // Peak around 0.6
        const peakPos = 0.6;
        const peakHeight = 0.92 - compassion * 0.3;
        if (t < peakPos) {
          // Rising phase: starts low, accelerates
          const norm = t / peakPos;
          return 0.05 + peakHeight * Math.pow(norm, 1.5);
        } else {
          // Decline phase (slow without action)
          const norm = (t - peakPos) / (1 - peakPos);
          const decline = 0.15 + action * 0.45;
          return 0.05 + peakHeight * (1 - Math.pow(norm, 0.8) * decline);
        }
      }

      function painWithAction(t) {
        const peakPos = 0.55;
        const peakHeight = (0.82 - compassion * 0.35) * (1 - action * 0.3);
        if (t < peakPos) {
          const norm = t / peakPos;
          return 0.05 + peakHeight * Math.pow(norm, 1.6);
        } else {
          const norm = (t - peakPos) / (1 - peakPos);
          const decline = 0.5 + action * 0.45;
          return Math.max(0.05, 0.05 + peakHeight * (1 - Math.pow(norm, 0.7) * decline));
        }
      }

      let noActionPath = '', actionPath = '', areaPath = '';
      let peakX = 0, peakY = bottom;

      for (let i = 0; i <= points; i++) {
        const t = i / points;
        const x = left + t * graphW;

        const pna = painNoAction(t);
        const pa = painWithAction(t);

        const yna = bottom - pna * graphH;
        const ya = bottom - pa * graphH;

        const cmd = i === 0 ? 'M' : 'L';
        noActionPath += `${cmd}${x},${yna} `;
        actionPath += `${cmd}${x},${ya} `;

        if (yna < peakY) {
          peakY = yna;
          peakX = x;
        }
      }

      areaPath = `M${left},${bottom} ${noActionPath} L${right},${bottom} Z`;

      document.getElementById('painCurve').setAttribute('d', noActionPath);
      document.getElementById('actionCurve').setAttribute('d', actionPath);
      document.getElementById('painArea').setAttribute('d', areaPath);

      const peakMarker = document.getElementById('peakMarker');
      peakMarker.setAttribute('transform', `translate(${peakX},${peakY})`);

      // Grid lines
      const grid = document.getElementById('painGrid');
      grid.innerHTML = '';
      for (let i = 0; i <= 10; i++) {
        const x = left + (i / 10) * graphW;
        const line = document.createElementNS('http://www.w3.org/2000/svg', 'line');
        line.setAttribute('x1', x);
        line.setAttribute('y1', top);
        line.setAttribute('x2', x);
        line.setAttribute('y2', bottom);
        line.setAttribute('stroke', 'rgba(255,255,255,.04)');
        line.setAttribute('stroke-width', '1');
        grid.appendChild(line);
      }
      for (let i = 0; i <= 5; i++) {
        const y = top + (i / 5) * graphH;
        const line = document.createElementNS('http://www.w3.org/2000/svg', 'line');
        line.setAttribute('x1', left);
        line.setAttribute('y1', y);
        line.setAttribute('x2', right);
        line.setAttribute('y2', y);
        line.setAttribute('stroke', 'rgba(255,255,255,.04)');
        line.setAttribute('stroke-width', '1');
        grid.appendChild(line);
      }
    }

    actionSlider.addEventListener('input', renderPainCurve);
    compassionSlider.addEventListener('input', renderPainCurve);
    renderPainCurve();

    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // Navigation
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    document.getElementById('jumpViz').addEventListener('click', () => {
      document.getElementById('vizCard').scrollIntoView({ behavior: 'smooth', block: 'center' });
    });
    document.getElementById('jumpPhases').addEventListener('click', () => {
      document.getElementById('phasesCard').scrollIntoView({ behavior: 'smooth', block: 'start' });
    });
    document.getElementById('jumpCheck').addEventListener('click', () => {
      document.getElementById('checkCard').scrollIntoView({ behavior: 'smooth', block: 'start' });
    });

    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // Commentary toggle
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    let commentaryVisible = true;
    document.getElementById('toggleNotes').addEventListener('click', () => {
      commentaryVisible = !commentaryVisible;
      document.querySelectorAll('[data-commentary]').forEach(el => {
        el.style.display = commentaryVisible ? '' : 'none';
      });
      showToast(commentaryVisible ? 'Commentary visible' : 'Commentary hidden');
    });

    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // Self-assessment scoring
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    function updateScore() {
      // Just visual feedback on items
    }

    document.getElementById('scoreBtn').addEventListener('click', () => {
      const boxes = document.querySelectorAll('#checklist input[type="checkbox"]');
      const checked = Array.from(boxes).filter(cb => cb.checked);
      const total = boxes.length;
      const count = checked.length;

      // Determine which items were checked
      const gapSignals = [0, 1, 2, 3, 4, 5]; // indices that suggest being in the gap
      const actionSignals = [6, 7]; // indices that suggest integration

      let gapCount = 0, actionCount = 0;
      checked.forEach(cb => {
        const idx = Array.from(boxes).indexOf(cb);
        if (gapSignals.includes(idx)) gapCount++;
        if (actionSignals.includes(idx)) actionCount++;
      });

      let msg = '';
      const out = document.getElementById('scoreOut');

      if (count === 0) {
        msg = `<div class="insightBox" style="margin-top:0"><div class="insLabel">No items selected</div><div class="insText">Check the statements that resonate with your current experience, then try again.</div></div>`;
      } else if (actionCount >= 2 && gapCount <= 2) {
        msg = `<div class="insightBox" style="border-color:rgba(117,240,182,.3);margin-top:0">
          <div class="insLabel" style="color:var(--good)">Integration phase</div>
          <div class="insText">You appear to be moving into Phase 4. Pain is becoming signal rather than suffering. You are beginning to act on what you see. The hardest part may be behind you. Continue aligning behavior with clarity.</div>
        </div>`;
      } else if (gapCount >= 4) {
        msg = `<div class="insightBox" style="border-color:rgba(255,122,153,.3);margin-top:0">
          <div class="insLabel" style="color:var(--bad)">Deep in the gap (Phase 3)</div>
          <div class="insText">Multiple gap signals are active. This is the most painful phase, and it is normal. You are not broken; you are in transition. The key is to convert even one insight into one small behavioral change. Start with boundaries, not overhaul. Consider professional support if this phase has lasted a long time.</div>
        </div>`;
      } else if (gapCount >= 2) {
        msg = `<div class="insightBox" style="border-color:rgba(255,210,122,.3);margin-top:0">
          <div class="insLabel" style="color:var(--warn)">Entering the gap (Phase 2-3)</div>
          <div class="insText">You are between awakening and the full weight of the gap. You see enough to feel discomfort but may not yet feel the full force of the knowing-doing disconnect. This is a critical window: building self-compassion now will soften the peak when it arrives.</div>
        </div>`;
      } else {
        msg = `<div class="insightBox" style="border-color:rgba(255,179,138,.3);margin-top:0">
          <div class="insLabel" style="color:var(--orange)">Early awareness</div>
          <div class="insText">Some signals are present but the pattern is not yet dominant. You may be in early awakening or may have already integrated past this material. Trust your felt sense more than any checklist.</div>
        </div>`;
      }

      out.innerHTML = msg;
      showToast('Assessment reflected');
    });

    document.getElementById('resetBtn').addEventListener('click', () => {
      document.querySelectorAll('#checklist input[type="checkbox"]').forEach(cb => {
        cb.checked = false;
        cb.closest('.item').classList.remove('checked');
      });
      document.getElementById('scoreOut').innerHTML = '';
      showToast('Assessment reset');
    });

    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // Toast
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    function showToast(message) {
      const toast = document.getElementById('toast');
      toast.textContent = message;
      toast.style.display = 'block';
      setTimeout(() => { toast.style.display = 'none'; }, 2000);
    }
  </script>
</body>
</html>
